4092e6a3b186c47c79074b62bf38e93b
"use strict";
/**
 * VERSATIL SDLC Framework - Configuration Wizard Tests
 * Comprehensive test suite for the interactive configuration wizard
 *
 * Coverage Target: 90%+
 * Test Scenarios: 6 core scenarios covering all wizard flows
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
// Mock readline module
jest.mock('readline');
// Mock PreferenceManager
jest.mock('../../../src/config/preference-manager', () => {
    const mockPreferences = {
        updateBehavior: 'notify',
        updateChannel: 'stable',
        safetyLevel: 'balanced',
        checkFrequency: 24,
        autoInstallSecurity: true,
        rollbackBehavior: 'prompt',
        maxRollbackPoints: 5,
        rollbackOnFailure: true,
        notificationLevel: 'important',
        notifyOnUpdateAvailable: true,
        notifyOnUpdateInstalled: true,
        notifyOnSecurityUpdate: true,
        notifyOnBreakingChange: true,
        enableTelemetry: true,
        shareErrorReports: true,
        shareUsageStatistics: false,
        backupBeforeUpdate: true,
        validateAfterUpdate: true,
        allowPrerelease: false,
        skipOptionalDependencies: false,
        createdAt: '2025-01-01T00:00:00.000Z',
        lastModified: '2025-01-01T00:00:00.000Z',
        version: '1.0.0'
    };
    // Create mock functions inside the factory
    const mockFns = {
        getDefaultPreferences: jest.fn().mockReturnValue(mockPreferences),
        savePreferences: jest.fn().mockResolvedValue(undefined),
        getPreferences: jest.fn().mockResolvedValue(mockPreferences),
        getSummary: jest.fn().mockResolvedValue('Mock preferences summary'),
        resetToDefaults: jest.fn().mockResolvedValue(undefined)
    };
    return {
        PreferenceManager: jest.fn().mockImplementation(() => mockFns),
        // Export mocks so they can be accessed
        __mockFunctions: mockFns
    };
});
const config_wizard_1 = require("../../../src/config/config-wizard");
const readline = __importStar(require("readline"));
const events_1 = require("events");
// Create shared mock functions that will be assigned in jest.mock
let mockGetDefaultPreferences;
let mockSavePreferences;
let mockGetPreferences;
let mockGetSummary;
let mockResetToDefaults;
// Don't mock ConfigProfileManager - use real implementation
// jest.mock() removed - ConfigProfileManager has no external dependencies
/**
 * Mock readline Interface
 */
class MockReadlineInterface extends events_1.EventEmitter {
    constructor() {
        super(...arguments);
        this.responseQueue = [];
        this.currentResponseIndex = 0;
    }
    question(query, callback) {
        const response = this.responseQueue[this.currentResponseIndex] || '';
        this.currentResponseIndex++;
        // Call callback asynchronously to simulate real behavior
        setImmediate(() => callback(response));
    }
    close() {
        this.emit('close');
    }
    setResponses(responses) {
        this.responseQueue = responses;
        this.currentResponseIndex = 0;
    }
    simplifyQuery(query) {
        // Extract key parts of the query for matching (check longer strings first to avoid partial matches)
        if (query.includes('Choose setup type'))
            return 'setup-type';
        if (query.includes('Continue with these settings'))
            return 'confirm-quick';
        if (query.includes('Choose a profile'))
            return 'profile-choice';
        if (query.includes('How should updates be handled'))
            return 'update-behavior';
        if (query.includes('Which update channel'))
            return 'update-channel';
        if (query.includes('Choose safety level'))
            return 'safety-level';
        if (query.includes('Auto-install security updates'))
            return 'auto-security';
        if (query.includes('Create backup before each update'))
            return 'backup';
        if (query.includes('Maximum number of backups'))
            return 'max-backups';
        if (query.includes('Auto-rollback if update fails'))
            return 'auto-rollback';
        if (query.includes('Notification level'))
            return 'notification-level';
        if (query.includes('Enable telemetry'))
            return 'enable-telemetry';
        if (query.includes('Share error reports'))
            return 'share-errors';
        if (query.includes('Share usage statistics'))
            return 'share-usage';
        if (query.includes('What would you like to change'))
            return 'update-category';
        if (query.includes('Reset all preferences'))
            return 'confirm-reset';
        if (query.includes('Your choice'))
            return 'default'; // Generic choice prompt
        return 'default';
    }
}
describe('ConfigWizard', () => {
    let wizard;
    let mockRl;
    let consoleLogSpy;
    beforeAll(() => {
        // Get the mock functions from the mocked module
        const PreferenceManagerModule = require('../../../src/config/preference-manager');
        const mockFns = PreferenceManagerModule.__mockFunctions;
        mockGetDefaultPreferences = mockFns.getDefaultPreferences;
        mockSavePreferences = mockFns.savePreferences;
        mockGetPreferences = mockFns.getPreferences;
        mockGetSummary = mockFns.getSummary;
        mockResetToDefaults = mockFns.resetToDefaults;
    });
    beforeEach(() => {
        // Clear all mock calls
        jest.clearAllMocks();
        // Create mock readline interface
        mockRl = new MockReadlineInterface();
        // Mock readline.createInterface to return our mock
        readline.createInterface.mockReturnValue(mockRl);
        // Spy on console.log to suppress output during tests
        consoleLogSpy = jest.spyOn(console, 'log').mockImplementation();
        // Create wizard instance
        wizard = new config_wizard_1.ConfigWizard();
    });
    afterEach(() => {
        consoleLogSpy.mockRestore();
    });
    /**
     * Test Scenario 1: Complete Wizard Flow (Quick Setup)
     */
    describe('wizardFlow - complete successfully', () => {
        it('should complete quick setup wizard successfully', async () => {
            // Setup mock responses for quick setup
            mockRl.setResponses([
                '1',
                'y'
            ]);
            // Run wizard
            const result = await wizard.run();
            // Verify results
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
            expect(result.updateChannel).toBe('stable');
            expect(result.safetyLevel).toBe('balanced');
            // Verify readline was closed
            expect(mockRl.listenerCount('close')).toBe(0);
        });
        it('should complete wizard and save preferences', async () => {
            mockRl.setResponses([
                '1',
                'y'
            ]);
            await wizard.run();
            // Verify savePreferences was called
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should switch to custom setup if quick setup is declined', async () => {
            mockRl.setResponses([
                '1',
                'n',
                '2',
                '1',
                '2',
                'y',
                'y',
                '5',
                'y',
                '2',
                'y',
                'y',
                'n'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
        });
    });
    /**
     * Test Scenario 2: Profile Selection - Development Profile
     */
    describe('profileSelection - dev profile', () => {
        it('should use balanced profile when selected', async () => {
            mockRl.setResponses([
                '3',
                '2'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
            expect(result.updateChannel).toBe('stable');
            expect(result.safetyLevel).toBe('balanced');
            expect(result.maxRollbackPoints).toBe(5);
        });
        it('should display all available profiles', async () => {
            mockRl.setResponses([
                '3',
                '2'
            ]);
            await wizard.run();
            // Verify wizard ran successfully - setup screen was shown
            expect(consoleLogSpy).toHaveBeenCalledWith(expect.stringContaining('First-Time Setup'));
        });
    });
    /**
     * Test Scenario 3: Profile Selection - Production Profile
     */
    describe('profileSelection - production profile', () => {
        it('should use conservative profile with stricter settings', async () => {
            mockRl.setResponses([
                '3', // Choose profile setup
                '1' // Choose conservative profile
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('manual');
            expect(result.safetyLevel).toBe('conservative');
            expect(result.checkFrequency).toBe(168); // Weekly
            expect(result.autoInstallSecurity).toBe(false);
            expect(result.maxRollbackPoints).toBe(10);
        });
        it('should use aggressive profile with latest features', async () => {
            mockRl.setResponses([
                '3',
                '3'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('auto');
            expect(result.updateChannel).toBe('beta');
            expect(result.safetyLevel).toBe('fast');
            expect(result.checkFrequency).toBe(6); // Every 6 hours
            expect(result.maxRollbackPoints).toBe(3);
            expect(result.allowPrerelease).toBe(true);
        });
        it('should handle invalid profile selection gracefully', async () => {
            // The real ConfigProfileManager.getProfile returns null for invalid names
            // which causes the wizard to throw "Invalid profile"
            // We just need to make sure an invalid choice key falls through to default
            mockRl.setResponses([
                '3', // Choose profile setup
                '999' // Invalid profile choice - will use default (key '2' = balanced)
            ]);
            const result = await wizard.run();
            // Should fall back to balanced (default)
            expect(result).toBeDefined();
            expect(result.safetyLevel).toBe('balanced');
        });
    });
    /**
     * Test Scenario 4: Custom Configuration - User Input
     */
    describe('customConfiguration - user input', () => {
        it('should collect all custom settings from user', async () => {
            mockRl.setResponses([
                '2',
                '1',
                '2',
                '3',
                'y',
                'y',
                '7',
                'y',
                '1',
                'y',
                'y',
                'y'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('auto');
            expect(result.updateChannel).toBe('beta');
            expect(result.safetyLevel).toBe('fast');
            expect(result.autoInstallSecurity).toBe(true);
            expect(result.backupBeforeUpdate).toBe(true);
            expect(result.maxRollbackPoints).toBe(7);
            expect(result.rollbackOnFailure).toBe(true);
            expect(result.notificationLevel).toBe('all');
            expect(result.enableTelemetry).toBe(true);
            expect(result.shareErrorReports).toBe(true);
            expect(result.shareUsageStatistics).toBe(true);
        });
        it('should handle no backup scenario', async () => {
            mockRl.setResponses([
                '2',
                '3',
                '1',
                '1',
                'n',
                'n',
                'n',
                '4',
                'n'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.backupBeforeUpdate).toBe(false);
            expect(result.rollbackOnFailure).toBe(false);
            expect(result.notificationLevel).toBe('none');
            expect(result.enableTelemetry).toBe(false);
        });
        it('should handle telemetry disabled scenario', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                '5',
                'y',
                '2',
                'n'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.enableTelemetry).toBe(false);
            // When telemetry is disabled, share settings should not be asked
        });
    });
    /**
     * Test Scenario 5: Validation During Wizard - Invalid Inputs
     */
    describe('validationDuringWizard - invalid inputs', () => {
        it('should handle invalid choice and use default', async () => {
            mockRl.setResponses([
                '999',
                'y'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            // Should use default quick setup
        });
        it('should handle empty input and use defaults', async () => {
            mockRl.setResponses([]);
            const result = await wizard.run();
            expect(result).toBeDefined();
        });
        it('should parse numeric inputs correctly', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                'abc',
                'y',
                '2',
                'y',
                'y',
                'n'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.maxRollbackPoints).toBe(5); // Should fall back to default
        });
        it('should handle various yes/no input formats', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'YES',
                'Y',
                '5',
                'yes',
                '2',
                'y',
                'y',
                'NO'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.autoInstallSecurity).toBe(true);
            expect(result.backupBeforeUpdate).toBe(true);
            expect(result.rollbackOnFailure).toBe(true);
            expect(result.shareUsageStatistics).toBe(false);
        });
    });
    /**
     * Test Scenario 6: Save Configuration - Persist to Disk
     */
    describe('saveConfiguration - persist to disk', () => {
        it('should save configuration to preferences file', async () => {
            mockRl.setResponses([
                '1',
                'y'
            ]);
            const result = await wizard.run();
            // Verify savePreferences was called with the result
            expect(mockSavePreferences).toHaveBeenCalledWith(result);
        });
        it('should save custom configuration correctly', async () => {
            mockRl.setResponses([
                '2',
                '3',
                '1',
                '1',
                'n',
                'y',
                '10',
                'y',
                '1',
                'y',
                'y',
                'y'
            ]);
            await wizard.run();
            expect(mockSavePreferences).toHaveBeenCalled();
            const savedPrefs = mockSavePreferences.mock.calls[0][0];
            expect(savedPrefs.updateBehavior).toBe('manual');
            expect(savedPrefs.maxRollbackPoints).toBe(10);
        });
        it('should display success message after saving', async () => {
            mockRl.setResponses([
                '1',
                'y'
            ]);
            await wizard.run();
            expect(consoleLogSpy).toHaveBeenCalledWith(expect.stringContaining('Setup complete'));
        });
    });
    /**
     * Additional Test: Minimal Wizard (CI/Automated)
     */
    describe('runMinimal - automated setup', () => {
        it('should run minimal wizard for CI environments', async () => {
            const result = await wizard.runMinimal();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('manual');
            expect(result.notificationLevel).toBe('none');
            expect(result.enableTelemetry).toBe(false);
        });
        it('should save minimal configuration', async () => {
            await wizard.runMinimal();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
    });
    /**
     * Additional Test: Update Preferences
     */
    describe('updatePreferences - interactive update', () => {
        it('should update existing preferences', async () => {
            mockRl.setResponses([
                '1',
                '1'
            ]);
            await wizard.updatePreferences();
            expect(mockGetPreferences).toHaveBeenCalled();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should handle reset to defaults', async () => {
            mockRl.setResponses([
                '6',
                'y'
            ]);
            await wizard.updatePreferences();
            expect(mockResetToDefaults).toHaveBeenCalled();
        });
        it('should handle view all settings', async () => {
            mockRl.setResponses([
                '5'
            ]);
            await wizard.updatePreferences();
            expect(mockGetSummary).toHaveBeenCalled();
        });
        it('should update rollback settings', async () => {
            mockRl.setResponses([
                '2',
                'n'
            ]);
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should update notification settings', async () => {
            mockRl.setResponses([
                '3',
                '4'
            ]);
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should update telemetry settings', async () => {
            mockRl.setResponses([
                '4',
                'n'
            ]);
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should not reset if user declines confirmation', async () => {
            mockRl.setResponses([
                '6',
                'n'
            ]);
            await wizard.updatePreferences();
            expect(mockResetToDefaults).not.toHaveBeenCalled();
        });
    });
    /**
     * Edge Cases
     */
    describe('edgeCases - boundary conditions', () => {
        it('should handle maximum backup points input', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                '999',
                'y',
                '2',
                'n'
            ]);
            const result = await wizard.run();
            expect(result.maxRollbackPoints).toBe(999);
        });
        it('should handle zero backup points', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                '0',
                'y',
                '2',
                'n'
            ]);
            const result = await wizard.run();
            // Zero may be treated as invalid/empty and fall back to default (5)
            expect(result.maxRollbackPoints).toBeGreaterThanOrEqual(0);
            expect(typeof result.maxRollbackPoints).toBe('number');
        });
        it('should handle negative number input gracefully', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                '-5',
                'y',
                '2',
                'n'
            ]);
            const result = await wizard.run();
            // Should parse to -5 or fall back to default
            expect(typeof result.maxRollbackPoints).toBe('number');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL25pc3NpbW1lbmFzaGUvVkVSU0FUSUwgU0RMQyBGVy90ZXN0cy91bml0L2NvbmZpZy9jb25maWctd2l6YXJkLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7R0FNRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRSCx1QkFBdUI7QUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztBQVN0Qix5QkFBeUI7QUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsRUFBRSxHQUFHLEVBQUU7SUFDdkQsTUFBTSxlQUFlLEdBQW9CO1FBQ3ZDLGNBQWMsRUFBRSxRQUFRO1FBQ3hCLGFBQWEsRUFBRSxRQUFRO1FBQ3ZCLFdBQVcsRUFBRSxVQUFVO1FBQ3ZCLGNBQWMsRUFBRSxFQUFFO1FBQ2xCLG1CQUFtQixFQUFFLElBQUk7UUFDekIsZ0JBQWdCLEVBQUUsUUFBUTtRQUMxQixpQkFBaUIsRUFBRSxDQUFDO1FBQ3BCLGlCQUFpQixFQUFFLElBQUk7UUFDdkIsaUJBQWlCLEVBQUUsV0FBVztRQUM5Qix1QkFBdUIsRUFBRSxJQUFJO1FBQzdCLHVCQUF1QixFQUFFLElBQUk7UUFDN0Isc0JBQXNCLEVBQUUsSUFBSTtRQUM1QixzQkFBc0IsRUFBRSxJQUFJO1FBQzVCLGVBQWUsRUFBRSxJQUFJO1FBQ3JCLGlCQUFpQixFQUFFLElBQUk7UUFDdkIsb0JBQW9CLEVBQUUsS0FBSztRQUMzQixrQkFBa0IsRUFBRSxJQUFJO1FBQ3hCLG1CQUFtQixFQUFFLElBQUk7UUFDekIsZUFBZSxFQUFFLEtBQUs7UUFDdEIsd0JBQXdCLEVBQUUsS0FBSztRQUMvQixTQUFTLEVBQUUsMEJBQTBCO1FBQ3JDLFlBQVksRUFBRSwwQkFBMEI7UUFDeEMsT0FBTyxFQUFFLE9BQU87S0FDakIsQ0FBQztJQUVGLDJDQUEyQztJQUMzQyxNQUFNLE9BQU8sR0FBRztRQUNkLHFCQUFxQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsZUFB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TUFBTSxNQUFNLEdBQUcsTUFBTSxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUM7WUFFbEMsb0VBQW9FO1lBQ3BFLE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzRCxNQUFNLENBQUMsT0FBTyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsZ0RBQWdELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDOUQsTUFBTSxDQUFDLFlBQVksQ0FBQztnQkFDbEIsR0FBRztnQkFDSCxHQUFHO2dCQUNILEdBQUc7Z0JBQ0gsR0FBRztnQkFDSCxHQUFHO2dCQUNILEdBQUc7Z0JBQ0gsSUFBSTtnQkFDSixHQUFHO2dCQUNILEdBQUc7Z0JBQ0gsR0FBRzthQUNKLENBQUMsQ0FBQztZQUVILE1BQU0sTUFBTSxHQUFHLE1BQU0sTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBRWxDLDZDQUE2QztZQUM3QyxNQUFNLENBQUMsT0FBTyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaXNzaW1tZW5hc2hlL1ZFUlNBVElMIFNETEMgRlcvdGVzdHMvdW5pdC9jb25maWcvY29uZmlnLXdpemFyZC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVkVSU0FUSUwgU0RMQyBGcmFtZXdvcmsgLSBDb25maWd1cmF0aW9uIFdpemFyZCBUZXN0c1xuICogQ29tcHJlaGVuc2l2ZSB0ZXN0IHN1aXRlIGZvciB0aGUgaW50ZXJhY3RpdmUgY29uZmlndXJhdGlvbiB3aXphcmRcbiAqXG4gKiBDb3ZlcmFnZSBUYXJnZXQ6IDkwJStcbiAqIFRlc3QgU2NlbmFyaW9zOiA2IGNvcmUgc2NlbmFyaW9zIGNvdmVyaW5nIGFsbCB3aXphcmQgZmxvd3NcbiAqL1xuXG5pbXBvcnQgeyBDb25maWdXaXphcmQgfSBmcm9tICcuLi8uLi8uLi9zcmMvY29uZmlnL2NvbmZpZy13aXphcmQnO1xuaW1wb3J0IHsgUHJlZmVyZW5jZU1hbmFnZXIsIFVzZXJQcmVmZXJlbmNlcyB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb25maWcvcHJlZmVyZW5jZS1tYW5hZ2VyJztcbmltcG9ydCB7IENvbmZpZ1Byb2ZpbGVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NvbmZpZy9jb25maWctcHJvZmlsZXMnO1xuaW1wb3J0ICogYXMgcmVhZGxpbmUgZnJvbSAncmVhZGxpbmUnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcblxuLy8gTW9jayByZWFkbGluZSBtb2R1bGVcbmplc3QubW9jaygncmVhZGxpbmUnKTtcblxuLy8gQ3JlYXRlIHNoYXJlZCBtb2NrIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgYXNzaWduZWQgaW4gamVzdC5tb2NrXG5sZXQgbW9ja0dldERlZmF1bHRQcmVmZXJlbmNlczogamVzdC5Nb2NrO1xubGV0IG1vY2tTYXZlUHJlZmVyZW5jZXM6IGplc3QuTW9jaztcbmxldCBtb2NrR2V0UHJlZmVyZW5jZXM6IGplc3QuTW9jaztcbmxldCBtb2NrR2V0U3VtbWFyeTogamVzdC5Nb2NrO1xubGV0IG1vY2tSZXNldFRvRGVmYXVsdHM6IGplc3QuTW9jaztcblxuLy8gTW9jayBQcmVmZXJlbmNlTWFuYWdlclxuamVzdC5tb2NrKCcuLi8uLi8uLi9zcmMvY29uZmlnL3ByZWZlcmVuY2UtbWFuYWdlcicsICgpID0+IHtcbiAgY29uc3QgbW9ja1ByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXMgPSB7XG4gICAgdXBkYXRlQmVoYXZpb3I6ICdub3RpZnknLFxuICAgIHVwZGF0ZUNoYW5uZWw6ICdzdGFibGUnLFxuICAgIHNhZmV0eUxldmVsOiAnYmFsYW5jZWQnLFxuICAgIGNoZWNrRnJlcXVlbmN5OiAyNCxcbiAgICBhdXRvSW5zdGFsbFNlY3VyaXR5OiB0cnVlLFxuICAgIHJvbGxiYWNrQmVoYXZpb3I6ICdwcm9tcHQnLFxuICAgIG1heFJvbGxiYWNrUG9pbnRzOiA1LFxuICAgIHJvbGxiYWNrT25GYWlsdXJlOiB0cnVlLFxuICAgIG5vdGlmaWNhdGlvbkxldmVsOiAnaW1wb3J0YW50JyxcbiAgICBub3RpZnlPblVwZGF0ZUF2YWlsYWJsZTogdHJ1ZSxcbiAgICBub3RpZnlPblVwZGF0ZUluc3RhbGxlZDogdHJ1ZSxcbiAgICBub3RpZnlPblNlY3VyaXR5VXBkYXRlOiB0cnVlLFxuICAgIG5vdGlmeU9uQnJlYWtpbmdDaGFuZ2U6IHRydWUsXG4gICAgZW5hYmxlVGVsZW1ldHJ5OiB0cnVlLFxuICAgIHNoYXJlRXJyb3JSZXBvcnRzOiB0cnVlLFxuICAgIHNoYXJlVXNhZ2VTdGF0aXN0aWNzOiBmYWxzZSxcbiAgICBiYWNrdXBCZWZvcmVVcGRhdGU6IHRydWUsXG4gICAgdmFsaWRhdGVBZnRlclVwZGF0ZTogdHJ1ZSxcbiAgICBhbGxvd1ByZXJlbGVhc2U6IGZhbHNlLFxuICAgIHNraXBPcHRpb25hbERlcGVuZGVuY2llczogZmFsc2UsXG4gICAgY3JlYXRlZEF0OiAnMjAyNS0wMS0wMVQwMDowMDowMC4wMDBaJyxcbiAgICBsYXN0TW9kaWZpZWQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwLjAwMFonLFxuICAgIHZlcnNpb246ICcxLjAuMCdcbiAgfTtcblxuICAvLyBDcmVhdGUgbW9jayBmdW5jdGlvbnMgaW5zaWRlIHRoZSBmYWN0b3J5XG4gIGNvbnN0IG1vY2tGbnMgPSB7XG4gICAgZ2V0RGVmYXVsdFByZWZlcmVuY2VzOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKG1vY2tQcmVmZXJlbmNlcyksXG4gICAgc2F2ZVByZWZlcmVuY2VzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICBnZXRQcmVmZXJlbmNlczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQcmVmZXJlbmNlcyksXG4gICAgZ2V0U3VtbWFyeTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdNb2NrIHByZWZlcmVuY2VzIHN1bW1hcnknKSxcbiAgICByZXNldFRvRGVmYXVsdHM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBQcmVmZXJlbmNlTWFuYWdlcjogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBtb2NrRm5zKSxcbiAgICAvLyBFeHBvcnQgbW9ja3Mgc28gdGhleSBjYW4gYmUgYWNjZXNzZWRcbiAgICBfX21vY2tGdW5jdGlvbnM6IG1vY2tGbnNcbiAgfTtcbn0pO1xuXG4vLyBEb24ndCBtb2NrIENvbmZpZ1Byb2ZpbGVNYW5hZ2VyIC0gdXNlIHJlYWwgaW1wbGVtZW50YXRpb25cbi8vIGplc3QubW9jaygpIHJlbW92ZWQgLSBDb25maWdQcm9maWxlTWFuYWdlciBoYXMgbm8gZXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG5cbi8qKlxuICogTW9jayByZWFkbGluZSBJbnRlcmZhY2VcbiAqL1xuY2xhc3MgTW9ja1JlYWRsaW5lSW50ZXJmYWNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgcHJpdmF0ZSByZXNwb25zZVF1ZXVlOiBzdHJpbmdbXSA9IFtdO1xuICBwcml2YXRlIGN1cnJlbnRSZXNwb25zZUluZGV4ID0gMDtcblxuICBxdWVzdGlvbihxdWVyeTogc3RyaW5nLCBjYWxsYmFjazogKGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlUXVldWVbdGhpcy5jdXJyZW50UmVzcG9uc2VJbmRleF0gfHwgJyc7XG5cbiAgICB0aGlzLmN1cnJlbnRSZXNwb25zZUluZGV4Kys7XG5cbiAgICAvLyBDYWxsIGNhbGxiYWNrIGFzeW5jaHJvbm91c2x5IHRvIHNpbXVsYXRlIHJlYWwgYmVoYXZpb3JcbiAgICBzZXRJbW1lZGlhdGUoKCkgPT4gY2FsbGJhY2socmVzcG9uc2UpKTtcbiAgfVxuXG4gIGNsb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuZW1pdCgnY2xvc2UnKTtcbiAgfVxuXG4gIHNldFJlc3BvbnNlcyhyZXNwb25zZXM6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgdGhpcy5yZXNwb25zZVF1ZXVlID0gcmVzcG9uc2VzO1xuICAgIHRoaXMuY3VycmVudFJlc3BvbnNlSW5kZXggPSAwO1xuICB9XG5cbiAgcHJpdmF0ZSBzaW1wbGlmeVF1ZXJ5KHF1ZXJ5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIEV4dHJhY3Qga2V5IHBhcnRzIG9mIHRoZSBxdWVyeSBmb3IgbWF0Y2hpbmcgKGNoZWNrIGxvbmdlciBzdHJpbmdzIGZpcnN0IHRvIGF2b2lkIHBhcnRpYWwgbWF0Y2hlcylcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0Nob29zZSBzZXR1cCB0eXBlJykpIHJldHVybiAnc2V0dXAtdHlwZSc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdDb250aW51ZSB3aXRoIHRoZXNlIHNldHRpbmdzJykpIHJldHVybiAnY29uZmlybS1xdWljayc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdDaG9vc2UgYSBwcm9maWxlJykpIHJldHVybiAncHJvZmlsZS1jaG9pY2UnO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnSG93IHNob3VsZCB1cGRhdGVzIGJlIGhhbmRsZWQnKSkgcmV0dXJuICd1cGRhdGUtYmVoYXZpb3InO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnV2hpY2ggdXBkYXRlIGNoYW5uZWwnKSkgcmV0dXJuICd1cGRhdGUtY2hhbm5lbCc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdDaG9vc2Ugc2FmZXR5IGxldmVsJykpIHJldHVybiAnc2FmZXR5LWxldmVsJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0F1dG8taW5zdGFsbCBzZWN1cml0eSB1cGRhdGVzJykpIHJldHVybiAnYXV0by1zZWN1cml0eSc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdDcmVhdGUgYmFja3VwIGJlZm9yZSBlYWNoIHVwZGF0ZScpKSByZXR1cm4gJ2JhY2t1cCc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdNYXhpbXVtIG51bWJlciBvZiBiYWNrdXBzJykpIHJldHVybiAnbWF4LWJhY2t1cHMnO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnQXV0by1yb2xsYmFjayBpZiB1cGRhdGUgZmFpbHMnKSkgcmV0dXJuICdhdXRvLXJvbGxiYWNrJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ05vdGlmaWNhdGlvbiBsZXZlbCcpKSByZXR1cm4gJ25vdGlmaWNhdGlvbi1sZXZlbCc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdFbmFibGUgdGVsZW1ldHJ5JykpIHJldHVybiAnZW5hYmxlLXRlbGVtZXRyeSc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdTaGFyZSBlcnJvciByZXBvcnRzJykpIHJldHVybiAnc2hhcmUtZXJyb3JzJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ1NoYXJlIHVzYWdlIHN0YXRpc3RpY3MnKSkgcmV0dXJuICdzaGFyZS11c2FnZSc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGNoYW5nZScpKSByZXR1cm4gJ3VwZGF0ZS1jYXRlZ29yeSc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdSZXNldCBhbGwgcHJlZmVyZW5jZXMnKSkgcmV0dXJuICdjb25maXJtLXJlc2V0JztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ1lvdXIgY2hvaWNlJykpIHJldHVybiAnZGVmYXVsdCc7IC8vIEdlbmVyaWMgY2hvaWNlIHByb21wdFxuXG4gICAgcmV0dXJuICdkZWZhdWx0JztcbiAgfVxufVxuXG5kZXNjcmliZSgnQ29uZmlnV2l6YXJkJywgKCkgPT4ge1xuICBsZXQgd2l6YXJkOiBDb25maWdXaXphcmQ7XG4gIGxldCBtb2NrUmw6IE1vY2tSZWFkbGluZUludGVyZmFjZTtcbiAgbGV0IGNvbnNvbGVMb2dTcHk6IGplc3QuU3B5SW5zdGFuY2U7XG5cbiAgYmVmb3JlQWxsKCgpID0+IHtcbiAgICAvLyBHZXQgdGhlIG1vY2sgZnVuY3Rpb25zIGZyb20gdGhlIG1vY2tlZCBtb2R1bGVcbiAgICBjb25zdCBQcmVmZXJlbmNlTWFuYWdlck1vZHVsZSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9jb25maWcvcHJlZmVyZW5jZS1tYW5hZ2VyJyk7XG4gICAgY29uc3QgbW9ja0ZucyA9IChQcmVmZXJlbmNlTWFuYWdlck1vZHVsZSBhcyBhbnkpLl9fbW9ja0Z1bmN0aW9ucztcblxuICAgIG1vY2tHZXREZWZhdWx0UHJlZmVyZW5jZXMgPSBtb2NrRm5zLmdldERlZmF1bHRQcmVmZXJlbmNlcztcbiAgICBtb2NrU2F2ZVByZWZlcmVuY2VzID0gbW9ja0Zucy5zYXZlUHJlZmVyZW5jZXM7XG4gICAgbW9ja0dldFByZWZlcmVuY2VzID0gbW9ja0Zucy5nZXRQcmVmZXJlbmNlcztcbiAgICBtb2NrR2V0U3VtbWFyeSA9IG1vY2tGbnMuZ2V0U3VtbWFyeTtcbiAgICBtb2NrUmVzZXRUb0RlZmF1bHRzID0gbW9ja0Zucy5yZXNldFRvRGVmYXVsdHM7XG4gIH0pO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIENsZWFyIGFsbCBtb2NrIGNhbGxzXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICAvLyBDcmVhdGUgbW9jayByZWFkbGluZSBpbnRlcmZhY2VcbiAgICBtb2NrUmwgPSBuZXcgTW9ja1JlYWRsaW5lSW50ZXJmYWNlKCk7XG5cbiAgICAvLyBNb2NrIHJlYWRsaW5lLmNyZWF0ZUludGVyZmFjZSB0byByZXR1cm4gb3VyIG1vY2tcbiAgICAocmVhZGxpbmUuY3JlYXRlSW50ZXJmYWNlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKG1vY2tSbCk7XG5cbiAgICAvLyBTcHkgb24gY29uc29sZS5sb2cgdG8gc3VwcHJlc3Mgb3V0cHV0IGR1cmluZyB0ZXN0c1xuICAgIGNvbnNvbGVMb2dTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdsb2cnKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIC8vIENyZWF0ZSB3aXphcmQgaW5zdGFuY2VcbiAgICB3aXphcmQgPSBuZXcgQ29uZmlnV2l6YXJkKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgY29uc29sZUxvZ1NweS5tb2NrUmVzdG9yZSgpO1xuICB9KTtcblxuICAvKipcbiAgICogVGVzdCBTY2VuYXJpbyAxOiBDb21wbGV0ZSBXaXphcmQgRmxvdyAoUXVpY2sgU2V0dXApXG4gICAqL1xuICBkZXNjcmliZSgnd2l6YXJkRmxvdyAtIGNvbXBsZXRlIHN1Y2Nlc3NmdWxseScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIHF1aWNrIHNldHVwIHdpemFyZCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBTZXR1cCBtb2NrIHJlc3BvbnNlcyBmb3IgcXVpY2sgc2V0dXBcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMScsXG4gICAgICAgICd5J1xuICAgICAgXSk7XG5cbiAgICAgIC8vIFJ1biB3aXphcmRcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgLy8gVmVyaWZ5IHJlc3VsdHNcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdub3RpZnknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQ2hhbm5lbCkudG9CZSgnc3RhYmxlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnNhZmV0eUxldmVsKS50b0JlKCdiYWxhbmNlZCcpO1xuXG4gICAgICAvLyBWZXJpZnkgcmVhZGxpbmUgd2FzIGNsb3NlZFxuICAgICAgZXhwZWN0KG1vY2tSbC5saXN0ZW5lckNvdW50KCdjbG9zZScpKS50b0JlKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb21wbGV0ZSB3aXphcmQgYW5kIHNhdmUgcHJlZmVyZW5jZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzEnLFxuICAgICAgICAneSdcbiAgICAgIF0pO1xuXG4gICAgICBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIC8vIFZlcmlmeSBzYXZlUHJlZmVyZW5jZXMgd2FzIGNhbGxlZFxuICAgICAgZXhwZWN0KG1vY2tTYXZlUHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3dpdGNoIHRvIGN1c3RvbSBzZXR1cCBpZiBxdWljayBzZXR1cCBpcyBkZWNsaW5lZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMScsXG4gICAgICAgICduJyxcbiAgICAgICAgJzInLFxuICAgICAgICAnMScsXG4gICAgICAgICcyJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICc1JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMicsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdub3RpZnknKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRlc3QgU2NlbmFyaW8gMjogUHJvZmlsZSBTZWxlY3Rpb24gLSBEZXZlbG9wbWVudCBQcm9maWxlXG4gICAqL1xuICBkZXNjcmliZSgncHJvZmlsZVNlbGVjdGlvbiAtIGRldiBwcm9maWxlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXNlIGJhbGFuY2VkIHByb2ZpbGUgd2hlbiBzZWxlY3RlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMycsXG4gICAgICAgICcyJ1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQmVoYXZpb3IpLnRvQmUoJ25vdGlmeScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVDaGFubmVsKS50b0JlKCdzdGFibGUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2FmZXR5TGV2ZWwpLnRvQmUoJ2JhbGFuY2VkJyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm1heFJvbGxiYWNrUG9pbnRzKS50b0JlKDUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGFsbCBhdmFpbGFibGUgcHJvZmlsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzMnLFxuICAgICAgICAnMidcbiAgICAgIF0pO1xuXG4gICAgICBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIC8vIFZlcmlmeSB3aXphcmQgcmFuIHN1Y2Nlc3NmdWxseSAtIHNldHVwIHNjcmVlbiB3YXMgc2hvd25cbiAgICAgIGV4cGVjdChjb25zb2xlTG9nU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ0ZpcnN0LVRpbWUgU2V0dXAnKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRlc3QgU2NlbmFyaW8gMzogUHJvZmlsZSBTZWxlY3Rpb24gLSBQcm9kdWN0aW9uIFByb2ZpbGVcbiAgICovXG4gIGRlc2NyaWJlKCdwcm9maWxlU2VsZWN0aW9uIC0gcHJvZHVjdGlvbiBwcm9maWxlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXNlIGNvbnNlcnZhdGl2ZSBwcm9maWxlIHdpdGggc3RyaWN0ZXIgc2V0dGluZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzMnLCAvLyBDaG9vc2UgcHJvZmlsZSBzZXR1cFxuICAgICAgICAnMScgIC8vIENob29zZSBjb25zZXJ2YXRpdmUgcHJvZmlsZVxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQmVoYXZpb3IpLnRvQmUoJ21hbnVhbCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zYWZldHlMZXZlbCkudG9CZSgnY29uc2VydmF0aXZlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmNoZWNrRnJlcXVlbmN5KS50b0JlKDE2OCk7IC8vIFdlZWtseVxuICAgICAgZXhwZWN0KHJlc3VsdC5hdXRvSW5zdGFsbFNlY3VyaXR5KS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoMTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1c2UgYWdncmVzc2l2ZSBwcm9maWxlIHdpdGggbGF0ZXN0IGZlYXR1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICczJyxcbiAgICAgICAgJzMnXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVCZWhhdmlvcikudG9CZSgnYXV0bycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVDaGFubmVsKS50b0JlKCdiZXRhJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnNhZmV0eUxldmVsKS50b0JlKCdmYXN0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LmNoZWNrRnJlcXVlbmN5KS50b0JlKDYpOyAvLyBFdmVyeSA2IGhvdXJzXG4gICAgICBleHBlY3QocmVzdWx0Lm1heFJvbGxiYWNrUG9pbnRzKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5hbGxvd1ByZXJlbGVhc2UpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIHByb2ZpbGUgc2VsZWN0aW9uIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBUaGUgcmVhbCBDb25maWdQcm9maWxlTWFuYWdlci5nZXRQcm9maWxlIHJldHVybnMgbnVsbCBmb3IgaW52YWxpZCBuYW1lc1xuICAgICAgLy8gd2hpY2ggY2F1c2VzIHRoZSB3aXphcmQgdG8gdGhyb3cgXCJJbnZhbGlkIHByb2ZpbGVcIlxuICAgICAgLy8gV2UganVzdCBuZWVkIHRvIG1ha2Ugc3VyZSBhbiBpbnZhbGlkIGNob2ljZSBrZXkgZmFsbHMgdGhyb3VnaCB0byBkZWZhdWx0XG5cbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMycsICAgLy8gQ2hvb3NlIHByb2ZpbGUgc2V0dXBcbiAgICAgICAgJzk5OScgIC8vIEludmFsaWQgcHJvZmlsZSBjaG9pY2UgLSB3aWxsIHVzZSBkZWZhdWx0IChrZXkgJzInID0gYmFsYW5jZWQpXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICAvLyBTaG91bGQgZmFsbCBiYWNrIHRvIGJhbGFuY2VkIChkZWZhdWx0KVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2FmZXR5TGV2ZWwpLnRvQmUoJ2JhbGFuY2VkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUZXN0IFNjZW5hcmlvIDQ6IEN1c3RvbSBDb25maWd1cmF0aW9uIC0gVXNlciBJbnB1dFxuICAgKi9cbiAgZGVzY3JpYmUoJ2N1c3RvbUNvbmZpZ3VyYXRpb24gLSB1c2VyIGlucHV0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29sbGVjdCBhbGwgY3VzdG9tIHNldHRpbmdzIGZyb20gdXNlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMicsXG4gICAgICAgICcxJyxcbiAgICAgICAgJzInLFxuICAgICAgICAnMycsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnNycsXG4gICAgICAgICd5JyxcbiAgICAgICAgJzEnLFxuICAgICAgICAneScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVCZWhhdmlvcikudG9CZSgnYXV0bycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVDaGFubmVsKS50b0JlKCdiZXRhJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnNhZmV0eUxldmVsKS50b0JlKCdmYXN0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LmF1dG9JbnN0YWxsU2VjdXJpdHkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmJhY2t1cEJlZm9yZVVwZGF0ZSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoNyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJvbGxiYWNrT25GYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ub3RpZmljYXRpb25MZXZlbCkudG9CZSgnYWxsJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVuYWJsZVRlbGVtZXRyeSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2hhcmVFcnJvclJlcG9ydHMpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnNoYXJlVXNhZ2VTdGF0aXN0aWNzKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbm8gYmFja3VwIHNjZW5hcmlvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcyJyxcbiAgICAgICAgJzMnLFxuICAgICAgICAnMScsXG4gICAgICAgICcxJyxcbiAgICAgICAgJ24nLFxuICAgICAgICAnbicsXG4gICAgICAgICduJyxcbiAgICAgICAgJzQnLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmJhY2t1cEJlZm9yZVVwZGF0ZSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnJvbGxiYWNrT25GYWlsdXJlKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubm90aWZpY2F0aW9uTGV2ZWwpLnRvQmUoJ25vbmUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW5hYmxlVGVsZW1ldHJ5KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHRlbGVtZXRyeSBkaXNhYmxlZCBzY2VuYXJpbycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMicsXG4gICAgICAgICcyJyxcbiAgICAgICAgJzEnLFxuICAgICAgICAnMicsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnNScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJzInLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmVuYWJsZVRlbGVtZXRyeSkudG9CZShmYWxzZSk7XG4gICAgICAvLyBXaGVuIHRlbGVtZXRyeSBpcyBkaXNhYmxlZCwgc2hhcmUgc2V0dGluZ3Mgc2hvdWxkIG5vdCBiZSBhc2tlZFxuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogVGVzdCBTY2VuYXJpbyA1OiBWYWxpZGF0aW9uIER1cmluZyBXaXphcmQgLSBJbnZhbGlkIElucHV0c1xuICAgKi9cbiAgZGVzY3JpYmUoJ3ZhbGlkYXRpb25EdXJpbmdXaXphcmQgLSBpbnZhbGlkIGlucHV0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIGNob2ljZSBhbmQgdXNlIGRlZmF1bHQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzk5OScsXG4gICAgICAgICd5J1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIC8vIFNob3VsZCB1c2UgZGVmYXVsdCBxdWljayBzZXR1cFxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgaW5wdXQgYW5kIHVzZSBkZWZhdWx0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICBcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHBhcnNlIG51bWVyaWMgaW5wdXRzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMicsXG4gICAgICAgICcyJyxcbiAgICAgICAgJzEnLFxuICAgICAgICAnMicsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnYWJjJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMicsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm1heFJvbGxiYWNrUG9pbnRzKS50b0JlKDUpOyAvLyBTaG91bGQgZmFsbCBiYWNrIHRvIGRlZmF1bHRcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHZhcmlvdXMgeWVzL25vIGlucHV0IGZvcm1hdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzInLFxuICAgICAgICAnMicsXG4gICAgICAgICcxJyxcbiAgICAgICAgJzInLFxuICAgICAgICAnWUVTJyxcbiAgICAgICAgJ1knLFxuICAgICAgICAnNScsXG4gICAgICAgICd5ZXMnLFxuICAgICAgICAnMicsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnTk8nXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5hdXRvSW5zdGFsbFNlY3VyaXR5KS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5iYWNrdXBCZWZvcmVVcGRhdGUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnJvbGxiYWNrT25GYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zaGFyZVVzYWdlU3RhdGlzdGljcykudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUZXN0IFNjZW5hcmlvIDY6IFNhdmUgQ29uZmlndXJhdGlvbiAtIFBlcnNpc3QgdG8gRGlza1xuICAgKi9cbiAgZGVzY3JpYmUoJ3NhdmVDb25maWd1cmF0aW9uIC0gcGVyc2lzdCB0byBkaXNrJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2F2ZSBjb25maWd1cmF0aW9uIHRvIHByZWZlcmVuY2VzIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzEnLFxuICAgICAgICAneSdcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIC8vIFZlcmlmeSBzYXZlUHJlZmVyZW5jZXMgd2FzIGNhbGxlZCB3aXRoIHRoZSByZXN1bHRcbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChyZXN1bHQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzYXZlIGN1c3RvbSBjb25maWd1cmF0aW9uIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMicsXG4gICAgICAgICczJyxcbiAgICAgICAgJzEnLFxuICAgICAgICAnMScsXG4gICAgICAgICduJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMTAnLFxuICAgICAgICAneScsXG4gICAgICAgICcxJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICd5J1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KG1vY2tTYXZlUHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgY29uc3Qgc2F2ZWRQcmVmcyA9IG1vY2tTYXZlUHJlZmVyZW5jZXMubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGV4cGVjdChzYXZlZFByZWZzLnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdtYW51YWwnKTtcbiAgICAgIGV4cGVjdChzYXZlZFByZWZzLm1heFJvbGxiYWNrUG9pbnRzKS50b0JlKDEwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBzdWNjZXNzIG1lc3NhZ2UgYWZ0ZXIgc2F2aW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcxJyxcbiAgICAgICAgJ3knXG4gICAgICBdKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QoY29uc29sZUxvZ1NweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdTZXR1cCBjb21wbGV0ZScpXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogQWRkaXRpb25hbCBUZXN0OiBNaW5pbWFsIFdpemFyZCAoQ0kvQXV0b21hdGVkKVxuICAgKi9cbiAgZGVzY3JpYmUoJ3J1bk1pbmltYWwgLSBhdXRvbWF0ZWQgc2V0dXAnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBydW4gbWluaW1hbCB3aXphcmQgZm9yIENJIGVudmlyb25tZW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW5NaW5pbWFsKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdtYW51YWwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubm90aWZpY2F0aW9uTGV2ZWwpLnRvQmUoJ25vbmUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW5hYmxlVGVsZW1ldHJ5KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2F2ZSBtaW5pbWFsIGNvbmZpZ3VyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB3aXphcmQucnVuTWluaW1hbCgpO1xuXG4gICAgICBleHBlY3QobW9ja1NhdmVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogQWRkaXRpb25hbCBUZXN0OiBVcGRhdGUgUHJlZmVyZW5jZXNcbiAgICovXG4gIGRlc2NyaWJlKCd1cGRhdGVQcmVmZXJlbmNlcyAtIGludGVyYWN0aXZlIHVwZGF0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBleGlzdGluZyBwcmVmZXJlbmNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMScsXG4gICAgICAgICcxJ1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja0dldFByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja1NhdmVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmVzZXQgdG8gZGVmYXVsdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzYnLFxuICAgICAgICAneSdcbiAgICAgIF0pO1xuXG4gICAgICBhd2FpdCB3aXphcmQudXBkYXRlUHJlZmVyZW5jZXMoKTtcblxuICAgICAgZXhwZWN0KG1vY2tSZXNldFRvRGVmYXVsdHMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHZpZXcgYWxsIHNldHRpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICc1J1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja0dldFN1bW1hcnkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHJvbGxiYWNrIHNldHRpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcyJyxcbiAgICAgICAgJ24nXG4gICAgICBdKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnVwZGF0ZVByZWZlcmVuY2VzKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBub3RpZmljYXRpb24gc2V0dGluZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzMnLFxuICAgICAgICAnNCdcbiAgICAgIF0pO1xuXG4gICAgICBhd2FpdCB3aXphcmQudXBkYXRlUHJlZmVyZW5jZXMoKTtcblxuICAgICAgZXhwZWN0KG1vY2tTYXZlUHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHRlbGVtZXRyeSBzZXR0aW5ncycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnNCcsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja1NhdmVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgcmVzZXQgaWYgdXNlciBkZWNsaW5lcyBjb25maXJtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzYnLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBhd2FpdCB3aXphcmQudXBkYXRlUHJlZmVyZW5jZXMoKTtcblxuICAgICAgZXhwZWN0KG1vY2tSZXNldFRvRGVmYXVsdHMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBFZGdlIENhc2VzXG4gICAqL1xuICBkZXNjcmliZSgnZWRnZUNhc2VzIC0gYm91bmRhcnkgY29uZGl0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYXhpbXVtIGJhY2t1cCBwb2ludHMgaW5wdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzInLFxuICAgICAgICAnMicsXG4gICAgICAgICcxJyxcbiAgICAgICAgJzInLFxuICAgICAgICAneScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJzk5OScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJzInLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoOTk5KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHplcm8gYmFja3VwIHBvaW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMicsXG4gICAgICAgICcyJyxcbiAgICAgICAgJzEnLFxuICAgICAgICAnMicsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMCcsXG4gICAgICAgICd5JyxcbiAgICAgICAgJzInLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIC8vIFplcm8gbWF5IGJlIHRyZWF0ZWQgYXMgaW52YWxpZC9lbXB0eSBhbmQgZmFsbCBiYWNrIHRvIGRlZmF1bHQgKDUpXG4gICAgICBleHBlY3QocmVzdWx0Lm1heFJvbGxiYWNrUG9pbnRzKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoJ251bWJlcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbmVnYXRpdmUgbnVtYmVyIGlucHV0IGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzInLFxuICAgICAgICAnMicsXG4gICAgICAgICcxJyxcbiAgICAgICAgJzInLFxuICAgICAgICAneScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJy01JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMicsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgLy8gU2hvdWxkIHBhcnNlIHRvIC01IG9yIGZhbGwgYmFjayB0byBkZWZhdWx0XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5tYXhSb2xsYmFja1BvaW50cykudG9CZSgnbnVtYmVyJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=