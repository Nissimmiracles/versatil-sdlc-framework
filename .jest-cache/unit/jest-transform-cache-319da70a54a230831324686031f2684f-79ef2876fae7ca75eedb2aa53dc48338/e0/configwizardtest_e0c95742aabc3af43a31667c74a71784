e22a18e211a9d28bf1643e90eeeae2c3
"use strict";
/**
 * VERSATIL SDLC Framework - Configuration Wizard Tests
 * Comprehensive test suite for the interactive configuration wizard
 *
 * Coverage Target: 90%+
 * Test Scenarios: 6 core scenarios covering all wizard flows
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
// Mock readline module
jest.mock('readline');
// Mock PreferenceManager
jest.mock('../../../src/config/preference-manager', () => {
    const mockPreferences = {
        updateBehavior: 'notify',
        updateChannel: 'stable',
        safetyLevel: 'balanced',
        checkFrequency: 24,
        autoInstallSecurity: true,
        rollbackBehavior: 'prompt',
        maxRollbackPoints: 5,
        rollbackOnFailure: true,
        notificationLevel: 'important',
        notifyOnUpdateAvailable: true,
        notifyOnUpdateInstalled: true,
        notifyOnSecurityUpdate: true,
        notifyOnBreakingChange: true,
        enableTelemetry: true,
        shareErrorReports: true,
        shareUsageStatistics: false,
        backupBeforeUpdate: true,
        validateAfterUpdate: true,
        allowPrerelease: false,
        skipOptionalDependencies: false,
        createdAt: '2025-01-01T00:00:00.000Z',
        lastModified: '2025-01-01T00:00:00.000Z',
        version: '1.0.0'
    };
    // Create mock functions inside the factory
    const mockFns = {
        getDefaultPreferences: jest.fn().mockReturnValue(mockPreferences),
        savePreferences: jest.fn().mockResolvedValue(undefined),
        getPreferences: jest.fn().mockResolvedValue(mockPreferences),
        getSummary: jest.fn().mockResolvedValue('Mock preferences summary'),
        resetToDefaults: jest.fn().mockResolvedValue(undefined)
    };
    return {
        PreferenceManager: jest.fn().mockImplementation(() => mockFns),
        // Export mocks so they can be accessed
        __mockFunctions: mockFns
    };
});
const config_wizard_1 = require("../../../src/config/config-wizard");
const config_profiles_1 = require("../../../src/config/config-profiles");
const readline = __importStar(require("readline"));
const events_1 = require("events");
// Create shared mock functions that will be assigned in jest.mock
let mockGetDefaultPreferences;
let mockSavePreferences;
let mockGetPreferences;
let mockGetSummary;
let mockResetToDefaults;
// Don't mock ConfigProfileManager - use real implementation
// jest.mock() removed - ConfigProfileManager has no external dependencies
/**
 * Mock readline Interface
 */
class MockReadlineInterface extends events_1.EventEmitter {
    constructor() {
        super(...arguments);
        this.responseQueue = [];
        this.currentResponseIndex = 0;
    }
    question(query, callback) {
        const response = this.responseQueue[this.currentResponseIndex] || '';
        // Debug logging
        const fs = require('fs');
        fs.appendFileSync('/tmp/versatil-test-debug.log', `MOCK question #${this.currentResponseIndex}: response="${response}"\n`);
        this.currentResponseIndex++;
        // Call callback asynchronously to simulate real behavior
        setImmediate(() => callback(response));
    }
    close() {
        this.emit('close');
    }
    setResponses(responses) {
        this.responseQueue = responses;
        this.currentResponseIndex = 0;
    }
    simplifyQuery(query) {
        // Extract key parts of the query for matching (check longer strings first to avoid partial matches)
        if (query.includes('Choose setup type'))
            return 'setup-type';
        if (query.includes('Continue with these settings'))
            return 'confirm-quick';
        if (query.includes('Choose a profile'))
            return 'profile-choice';
        if (query.includes('How should updates be handled'))
            return 'update-behavior';
        if (query.includes('Which update channel'))
            return 'update-channel';
        if (query.includes('Choose safety level'))
            return 'safety-level';
        if (query.includes('Auto-install security updates'))
            return 'auto-security';
        if (query.includes('Create backup before each update'))
            return 'backup';
        if (query.includes('Maximum number of backups'))
            return 'max-backups';
        if (query.includes('Auto-rollback if update fails'))
            return 'auto-rollback';
        if (query.includes('Notification level'))
            return 'notification-level';
        if (query.includes('Enable telemetry'))
            return 'enable-telemetry';
        if (query.includes('Share error reports'))
            return 'share-errors';
        if (query.includes('Share usage statistics'))
            return 'share-usage';
        if (query.includes('What would you like to change'))
            return 'update-category';
        if (query.includes('Reset all preferences'))
            return 'confirm-reset';
        if (query.includes('Your choice'))
            return 'default'; // Generic choice prompt
        return 'default';
    }
}
describe('ConfigWizard', () => {
    let wizard;
    let mockRl;
    let consoleLogSpy;
    beforeAll(() => {
        // Get the mock functions from the mocked module
        const PreferenceManagerModule = require('../../../src/config/preference-manager');
        const mockFns = PreferenceManagerModule.__mockFunctions;
        mockGetDefaultPreferences = mockFns.getDefaultPreferences;
        mockSavePreferences = mockFns.savePreferences;
        mockGetPreferences = mockFns.getPreferences;
        mockGetSummary = mockFns.getSummary;
        mockResetToDefaults = mockFns.resetToDefaults;
    });
    beforeEach(() => {
        // Clear all mock calls
        jest.clearAllMocks();
        // Create mock readline interface
        mockRl = new MockReadlineInterface();
        // Mock readline.createInterface to return our mock
        readline.createInterface.mockReturnValue(mockRl);
        // Spy on console.log to suppress output during tests
        consoleLogSpy = jest.spyOn(console, 'log').mockImplementation();
        // Create wizard instance
        wizard = new config_wizard_1.ConfigWizard();
    });
    afterEach(() => {
        consoleLogSpy.mockRestore();
    });
    /**
     * Test Scenario 1: Complete Wizard Flow (Quick Setup)
     */
    describe('wizardFlow - complete successfully', () => {
        it('should complete quick setup wizard successfully', async () => {
            // Setup mock responses for quick setup
            mockRl.setResponses([
                '1',
                'y'
            ]);
            // Run wizard
            const result = await wizard.run();
            // Verify results
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
            expect(result.updateChannel).toBe('stable');
            expect(result.safetyLevel).toBe('balanced');
            // Verify readline was closed
            expect(mockRl.listenerCount('close')).toBe(0);
        });
        it('should complete wizard and save preferences', async () => {
            mockRl.setResponses([
                '1',
                'y'
            ]);
            await wizard.run();
            // Verify savePreferences was called
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should switch to custom setup if quick setup is declined', async () => {
            mockRl.setResponses([
                '1',
                'n',
                '2',
                '1',
                '2',
                'y',
                'y',
                '5',
                'y',
                '2',
                'y',
                'y',
                'n'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
        });
    });
    /**
     * Test Scenario 2: Profile Selection - Development Profile
     */
    describe('profileSelection - dev profile', () => {
        it('should use balanced profile when selected', async () => {
            mockRl.setResponses([
                '3',
                '2'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
            expect(result.updateChannel).toBe('stable');
            expect(result.safetyLevel).toBe('balanced');
            expect(result.maxRollbackPoints).toBe(5);
        });
        it('should display all available profiles', async () => {
            mockRl.setResponses([
                '3',
                '2'
            ]);
            await wizard.run();
            // Verify wizard ran successfully - setup screen was shown
            expect(consoleLogSpy).toHaveBeenCalledWith(expect.stringContaining('First-Time Setup'));
        });
    });
    /**
     * Test Scenario 3: Profile Selection - Production Profile
     */
    describe('profileSelection - production profile', () => {
        it('should use conservative profile with stricter settings', async () => {
            mockRl.setResponses([
                '3', // Choose profile setup
                '1' // Choose conservative profile
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('manual');
            expect(result.safetyLevel).toBe('conservative');
            expect(result.checkFrequency).toBe(168); // Weekly
            expect(result.autoInstallSecurity).toBe(false);
            expect(result.maxRollbackPoints).toBe(10);
        });
        it('should use aggressive profile with latest features', async () => {
            mockRl.setResponses([
                '3',
                '3'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('auto');
            expect(result.updateChannel).toBe('beta');
            expect(result.safetyLevel).toBe('fast');
            expect(result.checkFrequency).toBe(6); // Every 6 hours
            expect(result.maxRollbackPoints).toBe(3);
            expect(result.allowPrerelease).toBe(true);
        });
        it('should handle invalid profile selection gracefully', async () => {
            // Mock getProfile to return null for invalid selection
            const profileManager = new config_profiles_1.ConfigProfileManager();
            profileManager.getProfile.mockReturnValueOnce(null);
            mockRl.setResponses([
                '3',
                '999'
            ]);
            await expect(wizard.run()).rejects.toThrow('Invalid profile');
        });
    });
    /**
     * Test Scenario 4: Custom Configuration - User Input
     */
    describe('customConfiguration - user input', () => {
        it('should collect all custom settings from user', async () => {
            mockRl.setResponses([
                '2',
                '1',
                '2',
                '3',
                'y',
                'y',
                '7',
                'y',
                '1',
                'y',
                'y',
                'y'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('auto');
            expect(result.updateChannel).toBe('beta');
            expect(result.safetyLevel).toBe('fast');
            expect(result.autoInstallSecurity).toBe(true);
            expect(result.backupBeforeUpdate).toBe(true);
            expect(result.maxRollbackPoints).toBe(7);
            expect(result.rollbackOnFailure).toBe(true);
            expect(result.notificationLevel).toBe('all');
            expect(result.enableTelemetry).toBe(true);
            expect(result.shareErrorReports).toBe(true);
            expect(result.shareUsageStatistics).toBe(true);
        });
        it('should handle no backup scenario', async () => {
            mockRl.setResponses([
                '2',
                '3',
                '1',
                '1',
                'n',
                'n',
                'n',
                '4',
                'n'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.backupBeforeUpdate).toBe(false);
            expect(result.rollbackOnFailure).toBe(false);
            expect(result.notificationLevel).toBe('none');
            expect(result.enableTelemetry).toBe(false);
        });
        it('should handle telemetry disabled scenario', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                '5',
                'y',
                '2',
                'n'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.enableTelemetry).toBe(false);
            // When telemetry is disabled, share settings should not be asked
        });
    });
    /**
     * Test Scenario 5: Validation During Wizard - Invalid Inputs
     */
    describe('validationDuringWizard - invalid inputs', () => {
        it('should handle invalid choice and use default', async () => {
            mockRl.setResponses([
                '999',
                'y'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            // Should use default quick setup
        });
        it('should handle empty input and use defaults', async () => {
            mockRl.setResponses([]);
            const result = await wizard.run();
            expect(result).toBeDefined();
        });
        it('should parse numeric inputs correctly', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                'abc',
                'y',
                '2',
                'y',
                'y',
                'n'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.maxRollbackPoints).toBe(5); // Should fall back to default
        });
        it('should handle various yes/no input formats', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'YES',
                'Y',
                '5',
                'yes',
                '2',
                'y',
                'y',
                'NO'
            ]);
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.autoInstallSecurity).toBe(true);
            expect(result.backupBeforeUpdate).toBe(true);
            expect(result.rollbackOnFailure).toBe(true);
            expect(result.shareUsageStatistics).toBe(false);
        });
    });
    /**
     * Test Scenario 6: Save Configuration - Persist to Disk
     */
    describe('saveConfiguration - persist to disk', () => {
        it('should save configuration to preferences file', async () => {
            mockRl.setResponses([
                '1',
                'y'
            ]);
            const result = await wizard.run();
            // Verify savePreferences was called with the result
            expect(mockSavePreferences).toHaveBeenCalledWith(result);
        });
        it('should save custom configuration correctly', async () => {
            mockRl.setResponses([
                '2',
                '3',
                '1',
                '1',
                'n',
                'y',
                '10',
                'y',
                '1',
                'y',
                'y',
                'y'
            ]);
            await wizard.run();
            expect(mockSavePreferences).toHaveBeenCalled();
            const savedPrefs = mockSavePreferences.mock.calls[0][0];
            expect(savedPrefs.updateBehavior).toBe('manual');
            expect(savedPrefs.maxRollbackPoints).toBe(10);
        });
        it('should display success message after saving', async () => {
            mockRl.setResponses([
                '1',
                'y'
            ]);
            await wizard.run();
            expect(consoleLogSpy).toHaveBeenCalledWith(expect.stringContaining('Setup complete'));
        });
    });
    /**
     * Additional Test: Minimal Wizard (CI/Automated)
     */
    describe('runMinimal - automated setup', () => {
        it('should run minimal wizard for CI environments', async () => {
            const result = await wizard.runMinimal();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('manual');
            expect(result.notificationLevel).toBe('none');
            expect(result.enableTelemetry).toBe(false);
        });
        it('should save minimal configuration', async () => {
            await wizard.runMinimal();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
    });
    /**
     * Additional Test: Update Preferences
     */
    describe('updatePreferences - interactive update', () => {
        it('should update existing preferences', async () => {
            mockRl.setResponses([
                '1',
                '1'
            ]);
            await wizard.updatePreferences();
            expect(mockGetPreferences).toHaveBeenCalled();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should handle reset to defaults', async () => {
            mockRl.setResponses([
                '6',
                'y'
            ]);
            await wizard.updatePreferences();
            expect(mockResetToDefaults).toHaveBeenCalled();
        });
        it('should handle view all settings', async () => {
            mockRl.setResponses([
                '5'
            ]);
            await wizard.updatePreferences();
            expect(mockGetSummary).toHaveBeenCalled();
        });
        it('should update rollback settings', async () => {
            mockRl.setResponses([
                '2',
                'n'
            ]);
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should update notification settings', async () => {
            mockRl.setResponses([
                '3',
                '4'
            ]);
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should update telemetry settings', async () => {
            mockRl.setResponses([
                '4',
                'n'
            ]);
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should not reset if user declines confirmation', async () => {
            mockRl.setResponses([
                '6',
                'n'
            ]);
            await wizard.updatePreferences();
            expect(mockResetToDefaults).not.toHaveBeenCalled();
        });
    });
    /**
     * Edge Cases
     */
    describe('edgeCases - boundary conditions', () => {
        it('should handle maximum backup points input', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                '999',
                'y',
                '2',
                'n'
            ]);
            const result = await wizard.run();
            expect(result.maxRollbackPoints).toBe(999);
        });
        it('should handle zero backup points', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                '0',
                'y',
                '2',
                'n'
            ]);
            const result = await wizard.run();
            expect(result.maxRollbackPoints).toBe(0);
        });
        it('should handle negative number input gracefully', async () => {
            mockRl.setResponses([
                '2',
                '2',
                '1',
                '2',
                'y',
                'y',
                '-5',
                'y',
                '2',
                'n'
            ]);
            const result = await wizard.run();
            // Should parse to -5 or fall back to default
            expect(typeof result.maxRollbackPoints).toBe('number');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL25pc3NpbW1lbmFzaGUvVkVSU0FUSUwgU0RMQyBGVy90ZXN0cy91bml0L2NvbmZpZy9jb25maWctd2l6YXJkLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7R0FNRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRSCx1QkFBdUI7QUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztBQVN0Qix5QkFBeUI7QUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsRUFBRSxHQUFHLEVBQUU7SUFDdkQsTUFBTSxlQUFlLEdBQW9CO1FBQ3ZDLGNBQWMsRUFBRSxRQUFRO1FBQ3hCLGFBQWEsRUFBRSxRQUFRO1FBQ3ZCLFdBQVcsRUFBRSxVQUFVO1FBQ3ZCLGNBQWMsRUFBRSxFQUFFO1FBQ2xCLG1CQUFtQixFQUFFLElBQUk7UUFDekIsZ0JBQWdCLEVBQUUsUUFBUTtRQUMxQixpQkFBaUIsRUFBRSxDQUFDO1FBQ3BCLGlCQUFpQixFQUFFLElBQUk7UUFDdkIsaUJBQWlCLEVBQUUsV0FBVztRQUM5Qix1QkFBdUIsRUFBRSxJQUFJO1FBQzdCLHVCQUF1QixFQUFFLElBQUk7UUFDN0Isc0JBQXNCLEVBQUUsSUFBSTtRQUM1QixzQkFBc0IsRUFBRSxJQUFJO1FBQzVCLGVBQWUsRUFBRSxJQUFJO1FBQ3JCLGlCQUFpQixFQUFFLElBQUk7UUFDdkIsb0JBQW9CLEVBQUUsS0FBSztRQUMzQixrQkFBa0IsRUFBRSxJQUFJO1FBQ3hCLG1CQUFtQixFQUFFLElBQUk7UUFDekIsZUFBZSxFQUFFLEtBQUs7UUFDdEIsd0JBQXdCLEVBQUUsS0FBSztRQUMvQixTQUFTLEVBQUUsMEJBQTBCO1FBQ3JDLFlBQVksRUFBRSwwQkFBMEI7UUFDeEMsT0FBTyxFQUFFLE9BQU87S0FDakIsQ0FBQztJQUVGLDJDQUEyQztJQUMzQyxNQUFNLE9BQU8sR0FBRztRQUNkLHFCQUFxQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsZUFB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Q0gsR0FBRztnQkFDSCxHQUFHO2dCQUNILEdBQUc7Z0JBQ0gsR0FBRztnQkFDSCxHQUFHO2dCQUNILEdBQUc7Z0JBQ0gsR0FBRztnQkFDSCxHQUFHO2dCQUNILEdBQUc7YUFDSixDQUFDLENBQUM7WUFFSCxNQUFNLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUVsQyxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzlELE1BQU0sQ0FBQyxZQUFZLENBQUM7Z0JBQ2xCLEdBQUc7Z0JBQ0gsR0FBRztnQkFDSCxHQUFHO2dCQUNILEdBQUc7Z0JBQ0gsR0FBRztnQkFDSCxHQUFHO2dCQUNILElBQUk7Z0JBQ0osR0FBRztnQkFDSCxHQUFHO2dCQUNILEdBQUc7YUFDSixDQUFDLENBQUM7WUFFSCxNQUFNLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUVsQyw2Q0FBNkM7WUFDN0MsTUFBTSxDQUFDLE9BQU8sTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3pELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvbmlzc2ltbWVuYXNoZS9WRVJTQVRJTCBTRExDIEZXL3Rlc3RzL3VuaXQvY29uZmlnL2NvbmZpZy13aXphcmQudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFZFUlNBVElMIFNETEMgRnJhbWV3b3JrIC0gQ29uZmlndXJhdGlvbiBXaXphcmQgVGVzdHNcbiAqIENvbXByZWhlbnNpdmUgdGVzdCBzdWl0ZSBmb3IgdGhlIGludGVyYWN0aXZlIGNvbmZpZ3VyYXRpb24gd2l6YXJkXG4gKlxuICogQ292ZXJhZ2UgVGFyZ2V0OiA5MCUrXG4gKiBUZXN0IFNjZW5hcmlvczogNiBjb3JlIHNjZW5hcmlvcyBjb3ZlcmluZyBhbGwgd2l6YXJkIGZsb3dzXG4gKi9cblxuaW1wb3J0IHsgQ29uZmlnV2l6YXJkIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NvbmZpZy9jb25maWctd2l6YXJkJztcbmltcG9ydCB7IFByZWZlcmVuY2VNYW5hZ2VyLCBVc2VyUHJlZmVyZW5jZXMgfSBmcm9tICcuLi8uLi8uLi9zcmMvY29uZmlnL3ByZWZlcmVuY2UtbWFuYWdlcic7XG5pbXBvcnQgeyBDb25maWdQcm9maWxlTWFuYWdlciB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb25maWcvY29uZmlnLXByb2ZpbGVzJztcbmltcG9ydCAqIGFzIHJlYWRsaW5lIGZyb20gJ3JlYWRsaW5lJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5cbi8vIE1vY2sgcmVhZGxpbmUgbW9kdWxlXG5qZXN0Lm1vY2soJ3JlYWRsaW5lJyk7XG5cbi8vIENyZWF0ZSBzaGFyZWQgbW9jayBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIGFzc2lnbmVkIGluIGplc3QubW9ja1xubGV0IG1vY2tHZXREZWZhdWx0UHJlZmVyZW5jZXM6IGplc3QuTW9jaztcbmxldCBtb2NrU2F2ZVByZWZlcmVuY2VzOiBqZXN0Lk1vY2s7XG5sZXQgbW9ja0dldFByZWZlcmVuY2VzOiBqZXN0Lk1vY2s7XG5sZXQgbW9ja0dldFN1bW1hcnk6IGplc3QuTW9jaztcbmxldCBtb2NrUmVzZXRUb0RlZmF1bHRzOiBqZXN0Lk1vY2s7XG5cbi8vIE1vY2sgUHJlZmVyZW5jZU1hbmFnZXJcbmplc3QubW9jaygnLi4vLi4vLi4vc3JjL2NvbmZpZy9wcmVmZXJlbmNlLW1hbmFnZXInLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tQcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzID0ge1xuICAgIHVwZGF0ZUJlaGF2aW9yOiAnbm90aWZ5JyxcbiAgICB1cGRhdGVDaGFubmVsOiAnc3RhYmxlJyxcbiAgICBzYWZldHlMZXZlbDogJ2JhbGFuY2VkJyxcbiAgICBjaGVja0ZyZXF1ZW5jeTogMjQsXG4gICAgYXV0b0luc3RhbGxTZWN1cml0eTogdHJ1ZSxcbiAgICByb2xsYmFja0JlaGF2aW9yOiAncHJvbXB0JyxcbiAgICBtYXhSb2xsYmFja1BvaW50czogNSxcbiAgICByb2xsYmFja09uRmFpbHVyZTogdHJ1ZSxcbiAgICBub3RpZmljYXRpb25MZXZlbDogJ2ltcG9ydGFudCcsXG4gICAgbm90aWZ5T25VcGRhdGVBdmFpbGFibGU6IHRydWUsXG4gICAgbm90aWZ5T25VcGRhdGVJbnN0YWxsZWQ6IHRydWUsXG4gICAgbm90aWZ5T25TZWN1cml0eVVwZGF0ZTogdHJ1ZSxcbiAgICBub3RpZnlPbkJyZWFraW5nQ2hhbmdlOiB0cnVlLFxuICAgIGVuYWJsZVRlbGVtZXRyeTogdHJ1ZSxcbiAgICBzaGFyZUVycm9yUmVwb3J0czogdHJ1ZSxcbiAgICBzaGFyZVVzYWdlU3RhdGlzdGljczogZmFsc2UsXG4gICAgYmFja3VwQmVmb3JlVXBkYXRlOiB0cnVlLFxuICAgIHZhbGlkYXRlQWZ0ZXJVcGRhdGU6IHRydWUsXG4gICAgYWxsb3dQcmVyZWxlYXNlOiBmYWxzZSxcbiAgICBza2lwT3B0aW9uYWxEZXBlbmRlbmNpZXM6IGZhbHNlLFxuICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDAuMDAwWicsXG4gICAgbGFzdE1vZGlmaWVkOiAnMjAyNS0wMS0wMVQwMDowMDowMC4wMDBaJyxcbiAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gIH07XG5cbiAgLy8gQ3JlYXRlIG1vY2sgZnVuY3Rpb25zIGluc2lkZSB0aGUgZmFjdG9yeVxuICBjb25zdCBtb2NrRm5zID0ge1xuICAgIGdldERlZmF1bHRQcmVmZXJlbmNlczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShtb2NrUHJlZmVyZW5jZXMpLFxuICAgIHNhdmVQcmVmZXJlbmNlczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgZ2V0UHJlZmVyZW5jZXM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUHJlZmVyZW5jZXMpLFxuICAgIGdldFN1bW1hcnk6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnTW9jayBwcmVmZXJlbmNlcyBzdW1tYXJ5JyksXG4gICAgcmVzZXRUb0RlZmF1bHRzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgUHJlZmVyZW5jZU1hbmFnZXI6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gbW9ja0ZucyksXG4gICAgLy8gRXhwb3J0IG1vY2tzIHNvIHRoZXkgY2FuIGJlIGFjY2Vzc2VkXG4gICAgX19tb2NrRnVuY3Rpb25zOiBtb2NrRm5zXG4gIH07XG59KTtcblxuLy8gRG9uJ3QgbW9jayBDb25maWdQcm9maWxlTWFuYWdlciAtIHVzZSByZWFsIGltcGxlbWVudGF0aW9uXG4vLyBqZXN0Lm1vY2soKSByZW1vdmVkIC0gQ29uZmlnUHJvZmlsZU1hbmFnZXIgaGFzIG5vIGV4dGVybmFsIGRlcGVuZGVuY2llc1xuXG4vKipcbiAqIE1vY2sgcmVhZGxpbmUgSW50ZXJmYWNlXG4gKi9cbmNsYXNzIE1vY2tSZWFkbGluZUludGVyZmFjZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIHByaXZhdGUgcmVzcG9uc2VRdWV1ZTogc3RyaW5nW10gPSBbXTtcbiAgcHJpdmF0ZSBjdXJyZW50UmVzcG9uc2VJbmRleCA9IDA7XG5cbiAgcXVlc3Rpb24ocXVlcnk6IHN0cmluZywgY2FsbGJhY2s6IChhbnN3ZXI6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVF1ZXVlW3RoaXMuY3VycmVudFJlc3BvbnNlSW5kZXhdIHx8ICcnO1xuXG4gICAgLy8gRGVidWcgbG9nZ2luZ1xuICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICBmcy5hcHBlbmRGaWxlU3luYygnL3RtcC92ZXJzYXRpbC10ZXN0LWRlYnVnLmxvZycsIGBNT0NLIHF1ZXN0aW9uICMke3RoaXMuY3VycmVudFJlc3BvbnNlSW5kZXh9OiByZXNwb25zZT1cIiR7cmVzcG9uc2V9XCJcXG5gKTtcblxuICAgIHRoaXMuY3VycmVudFJlc3BvbnNlSW5kZXgrKztcblxuICAgIC8vIENhbGwgY2FsbGJhY2sgYXN5bmNocm9ub3VzbHkgdG8gc2ltdWxhdGUgcmVhbCBiZWhhdmlvclxuICAgIHNldEltbWVkaWF0ZSgoKSA9PiBjYWxsYmFjayhyZXNwb25zZSkpO1xuICB9XG5cbiAgY2xvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5lbWl0KCdjbG9zZScpO1xuICB9XG5cbiAgc2V0UmVzcG9uc2VzKHJlc3BvbnNlczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICB0aGlzLnJlc3BvbnNlUXVldWUgPSByZXNwb25zZXM7XG4gICAgdGhpcy5jdXJyZW50UmVzcG9uc2VJbmRleCA9IDA7XG4gIH1cblxuICBwcml2YXRlIHNpbXBsaWZ5UXVlcnkocXVlcnk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gRXh0cmFjdCBrZXkgcGFydHMgb2YgdGhlIHF1ZXJ5IGZvciBtYXRjaGluZyAoY2hlY2sgbG9uZ2VyIHN0cmluZ3MgZmlyc3QgdG8gYXZvaWQgcGFydGlhbCBtYXRjaGVzKVxuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnQ2hvb3NlIHNldHVwIHR5cGUnKSkgcmV0dXJuICdzZXR1cC10eXBlJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0NvbnRpbnVlIHdpdGggdGhlc2Ugc2V0dGluZ3MnKSkgcmV0dXJuICdjb25maXJtLXF1aWNrJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0Nob29zZSBhIHByb2ZpbGUnKSkgcmV0dXJuICdwcm9maWxlLWNob2ljZSc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdIb3cgc2hvdWxkIHVwZGF0ZXMgYmUgaGFuZGxlZCcpKSByZXR1cm4gJ3VwZGF0ZS1iZWhhdmlvcic7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdXaGljaCB1cGRhdGUgY2hhbm5lbCcpKSByZXR1cm4gJ3VwZGF0ZS1jaGFubmVsJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0Nob29zZSBzYWZldHkgbGV2ZWwnKSkgcmV0dXJuICdzYWZldHktbGV2ZWwnO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnQXV0by1pbnN0YWxsIHNlY3VyaXR5IHVwZGF0ZXMnKSkgcmV0dXJuICdhdXRvLXNlY3VyaXR5JztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0NyZWF0ZSBiYWNrdXAgYmVmb3JlIGVhY2ggdXBkYXRlJykpIHJldHVybiAnYmFja3VwJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ01heGltdW0gbnVtYmVyIG9mIGJhY2t1cHMnKSkgcmV0dXJuICdtYXgtYmFja3Vwcyc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdBdXRvLXJvbGxiYWNrIGlmIHVwZGF0ZSBmYWlscycpKSByZXR1cm4gJ2F1dG8tcm9sbGJhY2snO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnTm90aWZpY2F0aW9uIGxldmVsJykpIHJldHVybiAnbm90aWZpY2F0aW9uLWxldmVsJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0VuYWJsZSB0ZWxlbWV0cnknKSkgcmV0dXJuICdlbmFibGUtdGVsZW1ldHJ5JztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ1NoYXJlIGVycm9yIHJlcG9ydHMnKSkgcmV0dXJuICdzaGFyZS1lcnJvcnMnO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnU2hhcmUgdXNhZ2Ugc3RhdGlzdGljcycpKSByZXR1cm4gJ3NoYXJlLXVzYWdlJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ1doYXQgd291bGQgeW91IGxpa2UgdG8gY2hhbmdlJykpIHJldHVybiAndXBkYXRlLWNhdGVnb3J5JztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ1Jlc2V0IGFsbCBwcmVmZXJlbmNlcycpKSByZXR1cm4gJ2NvbmZpcm0tcmVzZXQnO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnWW91ciBjaG9pY2UnKSkgcmV0dXJuICdkZWZhdWx0JzsgLy8gR2VuZXJpYyBjaG9pY2UgcHJvbXB0XG5cbiAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICB9XG59XG5cbmRlc2NyaWJlKCdDb25maWdXaXphcmQnLCAoKSA9PiB7XG4gIGxldCB3aXphcmQ6IENvbmZpZ1dpemFyZDtcbiAgbGV0IG1vY2tSbDogTW9ja1JlYWRsaW5lSW50ZXJmYWNlO1xuICBsZXQgY29uc29sZUxvZ1NweTogamVzdC5TcHlJbnN0YW5jZTtcblxuICBiZWZvcmVBbGwoKCkgPT4ge1xuICAgIC8vIEdldCB0aGUgbW9jayBmdW5jdGlvbnMgZnJvbSB0aGUgbW9ja2VkIG1vZHVsZVxuICAgIGNvbnN0IFByZWZlcmVuY2VNYW5hZ2VyTW9kdWxlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvbmZpZy9wcmVmZXJlbmNlLW1hbmFnZXInKTtcbiAgICBjb25zdCBtb2NrRm5zID0gKFByZWZlcmVuY2VNYW5hZ2VyTW9kdWxlIGFzIGFueSkuX19tb2NrRnVuY3Rpb25zO1xuXG4gICAgbW9ja0dldERlZmF1bHRQcmVmZXJlbmNlcyA9IG1vY2tGbnMuZ2V0RGVmYXVsdFByZWZlcmVuY2VzO1xuICAgIG1vY2tTYXZlUHJlZmVyZW5jZXMgPSBtb2NrRm5zLnNhdmVQcmVmZXJlbmNlcztcbiAgICBtb2NrR2V0UHJlZmVyZW5jZXMgPSBtb2NrRm5zLmdldFByZWZlcmVuY2VzO1xuICAgIG1vY2tHZXRTdW1tYXJ5ID0gbW9ja0Zucy5nZXRTdW1tYXJ5O1xuICAgIG1vY2tSZXNldFRvRGVmYXVsdHMgPSBtb2NrRm5zLnJlc2V0VG9EZWZhdWx0cztcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gQ2xlYXIgYWxsIG1vY2sgY2FsbHNcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgIC8vIENyZWF0ZSBtb2NrIHJlYWRsaW5lIGludGVyZmFjZVxuICAgIG1vY2tSbCA9IG5ldyBNb2NrUmVhZGxpbmVJbnRlcmZhY2UoKTtcblxuICAgIC8vIE1vY2sgcmVhZGxpbmUuY3JlYXRlSW50ZXJmYWNlIHRvIHJldHVybiBvdXIgbW9ja1xuICAgIChyZWFkbGluZS5jcmVhdGVJbnRlcmZhY2UgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja1JsKTtcblxuICAgIC8vIFNweSBvbiBjb25zb2xlLmxvZyB0byBzdXBwcmVzcyBvdXRwdXQgZHVyaW5nIHRlc3RzXG4gICAgY29uc29sZUxvZ1NweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2xvZycpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgLy8gQ3JlYXRlIHdpemFyZCBpbnN0YW5jZVxuICAgIHdpemFyZCA9IG5ldyBDb25maWdXaXphcmQoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBjb25zb2xlTG9nU3B5Lm1vY2tSZXN0b3JlKCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUZXN0IFNjZW5hcmlvIDE6IENvbXBsZXRlIFdpemFyZCBGbG93IChRdWljayBTZXR1cClcbiAgICovXG4gIGRlc2NyaWJlKCd3aXphcmRGbG93IC0gY29tcGxldGUgc3VjY2Vzc2Z1bGx5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29tcGxldGUgcXVpY2sgc2V0dXAgd2l6YXJkIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFNldHVwIG1vY2sgcmVzcG9uc2VzIGZvciBxdWljayBzZXR1cFxuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcxJyxcbiAgICAgICAgJ3knXG4gICAgICBdKTtcblxuICAgICAgLy8gUnVuIHdpemFyZFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICAvLyBWZXJpZnkgcmVzdWx0c1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQmVoYXZpb3IpLnRvQmUoJ25vdGlmeScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVDaGFubmVsKS50b0JlKCdzdGFibGUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2FmZXR5TGV2ZWwpLnRvQmUoJ2JhbGFuY2VkJyk7XG5cbiAgICAgIC8vIFZlcmlmeSByZWFkbGluZSB3YXMgY2xvc2VkXG4gICAgICBleHBlY3QobW9ja1JsLmxpc3RlbmVyQ291bnQoJ2Nsb3NlJykpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIHdpemFyZCBhbmQgc2F2ZSBwcmVmZXJlbmNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMScsXG4gICAgICAgICd5J1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgLy8gVmVyaWZ5IHNhdmVQcmVmZXJlbmNlcyB3YXMgY2FsbGVkXG4gICAgICBleHBlY3QobW9ja1NhdmVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzd2l0Y2ggdG8gY3VzdG9tIHNldHVwIGlmIHF1aWNrIHNldHVwIGlzIGRlY2xpbmVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcxJyxcbiAgICAgICAgJ24nLFxuICAgICAgICAnMicsXG4gICAgICAgICcxJyxcbiAgICAgICAgJzInLFxuICAgICAgICAneScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJzUnLFxuICAgICAgICAneScsXG4gICAgICAgICcyJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQmVoYXZpb3IpLnRvQmUoJ25vdGlmeScpO1xuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogVGVzdCBTY2VuYXJpbyAyOiBQcm9maWxlIFNlbGVjdGlvbiAtIERldmVsb3BtZW50IFByb2ZpbGVcbiAgICovXG4gIGRlc2NyaWJlKCdwcm9maWxlU2VsZWN0aW9uIC0gZGV2IHByb2ZpbGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1c2UgYmFsYW5jZWQgcHJvZmlsZSB3aGVuIHNlbGVjdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICczJyxcbiAgICAgICAgJzInXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVCZWhhdmlvcikudG9CZSgnbm90aWZ5Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUNoYW5uZWwpLnRvQmUoJ3N0YWJsZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zYWZldHlMZXZlbCkudG9CZSgnYmFsYW5jZWQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgYWxsIGF2YWlsYWJsZSBwcm9maWxlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMycsXG4gICAgICAgICcyJ1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgLy8gVmVyaWZ5IHdpemFyZCByYW4gc3VjY2Vzc2Z1bGx5IC0gc2V0dXAgc2NyZWVuIHdhcyBzaG93blxuICAgICAgZXhwZWN0KGNvbnNvbGVMb2dTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnRmlyc3QtVGltZSBTZXR1cCcpXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogVGVzdCBTY2VuYXJpbyAzOiBQcm9maWxlIFNlbGVjdGlvbiAtIFByb2R1Y3Rpb24gUHJvZmlsZVxuICAgKi9cbiAgZGVzY3JpYmUoJ3Byb2ZpbGVTZWxlY3Rpb24gLSBwcm9kdWN0aW9uIHByb2ZpbGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1c2UgY29uc2VydmF0aXZlIHByb2ZpbGUgd2l0aCBzdHJpY3RlciBzZXR0aW5ncycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMycsIC8vIENob29zZSBwcm9maWxlIHNldHVwXG4gICAgICAgICcxJyAgLy8gQ2hvb3NlIGNvbnNlcnZhdGl2ZSBwcm9maWxlXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVCZWhhdmlvcikudG9CZSgnbWFudWFsJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnNhZmV0eUxldmVsKS50b0JlKCdjb25zZXJ2YXRpdmUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY2hlY2tGcmVxdWVuY3kpLnRvQmUoMTY4KTsgLy8gV2Vla2x5XG4gICAgICBleHBlY3QocmVzdWx0LmF1dG9JbnN0YWxsU2VjdXJpdHkpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tYXhSb2xsYmFja1BvaW50cykudG9CZSgxMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBhZ2dyZXNzaXZlIHByb2ZpbGUgd2l0aCBsYXRlc3QgZmVhdHVyZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzMnLFxuICAgICAgICAnMydcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdhdXRvJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUNoYW5uZWwpLnRvQmUoJ2JldGEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2FmZXR5TGV2ZWwpLnRvQmUoJ2Zhc3QnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY2hlY2tGcmVxdWVuY3kpLnRvQmUoNik7IC8vIEV2ZXJ5IDYgaG91cnNcbiAgICAgIGV4cGVjdChyZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoMyk7XG4gICAgICBleHBlY3QocmVzdWx0LmFsbG93UHJlcmVsZWFzZSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgcHJvZmlsZSBzZWxlY3Rpb24gZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgZ2V0UHJvZmlsZSB0byByZXR1cm4gbnVsbCBmb3IgaW52YWxpZCBzZWxlY3Rpb25cbiAgICAgIGNvbnN0IHByb2ZpbGVNYW5hZ2VyID0gbmV3IENvbmZpZ1Byb2ZpbGVNYW5hZ2VyKCk7XG4gICAgICAocHJvZmlsZU1hbmFnZXIuZ2V0UHJvZmlsZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZU9uY2UobnVsbCk7XG5cbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMycsXG4gICAgICAgICc5OTknXG4gICAgICBdKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHdpemFyZC5ydW4oKSkucmVqZWN0cy50b1Rocm93KCdJbnZhbGlkIHByb2ZpbGUnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRlc3QgU2NlbmFyaW8gNDogQ3VzdG9tIENvbmZpZ3VyYXRpb24gLSBVc2VyIElucHV0XG4gICAqL1xuICBkZXNjcmliZSgnY3VzdG9tQ29uZmlndXJhdGlvbiAtIHVzZXIgaW5wdXQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb2xsZWN0IGFsbCBjdXN0b20gc2V0dGluZ3MgZnJvbSB1c2VyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcyJyxcbiAgICAgICAgJzEnLFxuICAgICAgICAnMicsXG4gICAgICAgICczJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICc3JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneSdcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdhdXRvJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUNoYW5uZWwpLnRvQmUoJ2JldGEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2FmZXR5TGV2ZWwpLnRvQmUoJ2Zhc3QnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYXV0b0luc3RhbGxTZWN1cml0eSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYmFja3VwQmVmb3JlVXBkYXRlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tYXhSb2xsYmFja1BvaW50cykudG9CZSg3KTtcbiAgICAgIGV4cGVjdChyZXN1bHQucm9sbGJhY2tPbkZhaWx1cmUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0Lm5vdGlmaWNhdGlvbkxldmVsKS50b0JlKCdhbGwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW5hYmxlVGVsZW1ldHJ5KS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zaGFyZUVycm9yUmVwb3J0cykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2hhcmVVc2FnZVN0YXRpc3RpY3MpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBubyBiYWNrdXAgc2NlbmFyaW8nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzInLFxuICAgICAgICAnMycsXG4gICAgICAgICcxJyxcbiAgICAgICAgJzEnLFxuICAgICAgICAnbicsXG4gICAgICAgICduJyxcbiAgICAgICAgJ24nLFxuICAgICAgICAnNCcsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYmFja3VwQmVmb3JlVXBkYXRlKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucm9sbGJhY2tPbkZhaWx1cmUpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ub3RpZmljYXRpb25MZXZlbCkudG9CZSgnbm9uZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lbmFibGVUZWxlbWV0cnkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdGVsZW1ldHJ5IGRpc2FibGVkIHNjZW5hcmlvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcyJyxcbiAgICAgICAgJzInLFxuICAgICAgICAnMScsXG4gICAgICAgICcyJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICc1JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMicsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW5hYmxlVGVsZW1ldHJ5KS50b0JlKGZhbHNlKTtcbiAgICAgIC8vIFdoZW4gdGVsZW1ldHJ5IGlzIGRpc2FibGVkLCBzaGFyZSBzZXR0aW5ncyBzaG91bGQgbm90IGJlIGFza2VkXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUZXN0IFNjZW5hcmlvIDU6IFZhbGlkYXRpb24gRHVyaW5nIFdpemFyZCAtIEludmFsaWQgSW5wdXRzXG4gICAqL1xuICBkZXNjcmliZSgndmFsaWRhdGlvbkR1cmluZ1dpemFyZCAtIGludmFsaWQgaW5wdXRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgY2hvaWNlIGFuZCB1c2UgZGVmYXVsdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnOTk5JyxcbiAgICAgICAgJ3knXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgLy8gU2hvdWxkIHVzZSBkZWZhdWx0IHF1aWNrIHNldHVwXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBpbnB1dCBhbmQgdXNlIGRlZmF1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgIFxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGFyc2UgbnVtZXJpYyBpbnB1dHMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcyJyxcbiAgICAgICAgJzInLFxuICAgICAgICAnMScsXG4gICAgICAgICcyJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICdhYmMnLFxuICAgICAgICAneScsXG4gICAgICAgICcyJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoNSk7IC8vIFNob3VsZCBmYWxsIGJhY2sgdG8gZGVmYXVsdFxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmFyaW91cyB5ZXMvbm8gaW5wdXQgZm9ybWF0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMicsXG4gICAgICAgICcyJyxcbiAgICAgICAgJzEnLFxuICAgICAgICAnMicsXG4gICAgICAgICdZRVMnLFxuICAgICAgICAnWScsXG4gICAgICAgICc1JyxcbiAgICAgICAgJ3llcycsXG4gICAgICAgICcyJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICdOTydcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmF1dG9JbnN0YWxsU2VjdXJpdHkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmJhY2t1cEJlZm9yZVVwZGF0ZSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucm9sbGJhY2tPbkZhaWx1cmUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnNoYXJlVXNhZ2VTdGF0aXN0aWNzKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRlc3QgU2NlbmFyaW8gNjogU2F2ZSBDb25maWd1cmF0aW9uIC0gUGVyc2lzdCB0byBEaXNrXG4gICAqL1xuICBkZXNjcmliZSgnc2F2ZUNvbmZpZ3VyYXRpb24gLSBwZXJzaXN0IHRvIGRpc2snLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzYXZlIGNvbmZpZ3VyYXRpb24gdG8gcHJlZmVyZW5jZXMgZmlsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMScsXG4gICAgICAgICd5J1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgLy8gVmVyaWZ5IHNhdmVQcmVmZXJlbmNlcyB3YXMgY2FsbGVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAgZXhwZWN0KG1vY2tTYXZlUHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHJlc3VsdCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNhdmUgY3VzdG9tIGNvbmZpZ3VyYXRpb24gY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcyJyxcbiAgICAgICAgJzMnLFxuICAgICAgICAnMScsXG4gICAgICAgICcxJyxcbiAgICAgICAgJ24nLFxuICAgICAgICAneScsXG4gICAgICAgICcxMCcsXG4gICAgICAgICd5JyxcbiAgICAgICAgJzEnLFxuICAgICAgICAneScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knXG4gICAgICBdKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QobW9ja1NhdmVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgICBjb25zdCBzYXZlZFByZWZzID0gbW9ja1NhdmVQcmVmZXJlbmNlcy5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgZXhwZWN0KHNhdmVkUHJlZnMudXBkYXRlQmVoYXZpb3IpLnRvQmUoJ21hbnVhbCcpO1xuICAgICAgZXhwZWN0KHNhdmVkUHJlZnMubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoMTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHN1Y2Nlc3MgbWVzc2FnZSBhZnRlciBzYXZpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzEnLFxuICAgICAgICAneSdcbiAgICAgIF0pO1xuXG4gICAgICBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChjb25zb2xlTG9nU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1NldHVwIGNvbXBsZXRlJylcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIFRlc3Q6IE1pbmltYWwgV2l6YXJkIChDSS9BdXRvbWF0ZWQpXG4gICAqL1xuICBkZXNjcmliZSgncnVuTWluaW1hbCAtIGF1dG9tYXRlZCBzZXR1cCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJ1biBtaW5pbWFsIHdpemFyZCBmb3IgQ0kgZW52aXJvbm1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bk1pbmltYWwoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQmVoYXZpb3IpLnRvQmUoJ21hbnVhbCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ub3RpZmljYXRpb25MZXZlbCkudG9CZSgnbm9uZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lbmFibGVUZWxlbWV0cnkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzYXZlIG1pbmltYWwgY29uZmlndXJhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdpemFyZC5ydW5NaW5pbWFsKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIFRlc3Q6IFVwZGF0ZSBQcmVmZXJlbmNlc1xuICAgKi9cbiAgZGVzY3JpYmUoJ3VwZGF0ZVByZWZlcmVuY2VzIC0gaW50ZXJhY3RpdmUgdXBkYXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXBkYXRlIGV4aXN0aW5nIHByZWZlcmVuY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcxJyxcbiAgICAgICAgJzEnXG4gICAgICBdKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnVwZGF0ZVByZWZlcmVuY2VzKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrR2V0UHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByZXNldCB0byBkZWZhdWx0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnNicsXG4gICAgICAgICd5J1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja1Jlc2V0VG9EZWZhdWx0cykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmlldyBhbGwgc2V0dGluZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzUnXG4gICAgICBdKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnVwZGF0ZVByZWZlcmVuY2VzKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrR2V0U3VtbWFyeSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgcm9sbGJhY2sgc2V0dGluZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKFtcbiAgICAgICAgJzInLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBhd2FpdCB3aXphcmQudXBkYXRlUHJlZmVyZW5jZXMoKTtcblxuICAgICAgZXhwZWN0KG1vY2tTYXZlUHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIG5vdGlmaWNhdGlvbiBzZXR0aW5ncycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMycsXG4gICAgICAgICc0J1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja1NhdmVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgdGVsZW1ldHJ5IHNldHRpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICc0JyxcbiAgICAgICAgJ24nXG4gICAgICBdKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnVwZGF0ZVByZWZlcmVuY2VzKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCByZXNldCBpZiB1c2VyIGRlY2xpbmVzIGNvbmZpcm1hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnNicsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja1Jlc2V0VG9EZWZhdWx0cykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEVkZ2UgQ2FzZXNcbiAgICovXG4gIGRlc2NyaWJlKCdlZGdlQ2FzZXMgLSBib3VuZGFyeSBjb25kaXRpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1heGltdW0gYmFja3VwIHBvaW50cyBpbnB1dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMoW1xuICAgICAgICAnMicsXG4gICAgICAgICcyJyxcbiAgICAgICAgJzEnLFxuICAgICAgICAnMicsXG4gICAgICAgICd5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnOTk5JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMicsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5tYXhSb2xsYmFja1BvaW50cykudG9CZSg5OTkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgemVybyBiYWNrdXAgcG9pbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcyJyxcbiAgICAgICAgJzInLFxuICAgICAgICAnMScsXG4gICAgICAgICcyJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICcwJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnMicsXG4gICAgICAgICduJ1xuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5tYXhSb2xsYmFja1BvaW50cykudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG5lZ2F0aXZlIG51bWJlciBpbnB1dCBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhbXG4gICAgICAgICcyJyxcbiAgICAgICAgJzInLFxuICAgICAgICAnMScsXG4gICAgICAgICcyJyxcbiAgICAgICAgJ3knLFxuICAgICAgICAneScsXG4gICAgICAgICctNScsXG4gICAgICAgICd5JyxcbiAgICAgICAgJzInLFxuICAgICAgICAnbidcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIC8vIFNob3VsZCBwYXJzZSB0byAtNSBvciBmYWxsIGJhY2sgdG8gZGVmYXVsdFxuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoJ251bWJlcicpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9