b36584f3047bc9ca3e895ef0aa4e0b1e
"use strict";
/**
 * VERSATIL SDLC Framework - Configuration Wizard Tests
 * Comprehensive test suite for the interactive configuration wizard
 *
 * Coverage Target: 90%+
 * Test Scenarios: 6 core scenarios covering all wizard flows
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
// Mock readline module
jest.mock('readline');
// Mock PreferenceManager
jest.mock('../../../src/config/preference-manager', () => {
    const mockPreferences = {
        updateBehavior: 'notify',
        updateChannel: 'stable',
        safetyLevel: 'balanced',
        checkFrequency: 24,
        autoInstallSecurity: true,
        rollbackBehavior: 'prompt',
        maxRollbackPoints: 5,
        rollbackOnFailure: true,
        notificationLevel: 'important',
        notifyOnUpdateAvailable: true,
        notifyOnUpdateInstalled: true,
        notifyOnSecurityUpdate: true,
        notifyOnBreakingChange: true,
        enableTelemetry: true,
        shareErrorReports: true,
        shareUsageStatistics: false,
        backupBeforeUpdate: true,
        validateAfterUpdate: true,
        allowPrerelease: false,
        skipOptionalDependencies: false,
        createdAt: '2025-01-01T00:00:00.000Z',
        lastModified: '2025-01-01T00:00:00.000Z',
        version: '1.0.0'
    };
    // Create mock functions inside the factory
    const mockFns = {
        getDefaultPreferences: jest.fn().mockReturnValue(mockPreferences),
        savePreferences: jest.fn().mockResolvedValue(undefined),
        getPreferences: jest.fn().mockResolvedValue(mockPreferences),
        getSummary: jest.fn().mockResolvedValue('Mock preferences summary'),
        resetToDefaults: jest.fn().mockResolvedValue(undefined)
    };
    return {
        PreferenceManager: jest.fn().mockImplementation(() => mockFns),
        // Export mocks so they can be accessed
        __mockFunctions: mockFns
    };
});
const config_wizard_1 = require("../../../src/config/config-wizard");
const config_profiles_1 = require("../../../src/config/config-profiles");
const readline = __importStar(require("readline"));
const events_1 = require("events");
// Create shared mock functions that will be assigned in jest.mock
let mockGetDefaultPreferences;
let mockSavePreferences;
let mockGetPreferences;
let mockGetSummary;
let mockResetToDefaults;
// Don't mock ConfigProfileManager - use real implementation
// jest.mock() removed - ConfigProfileManager has no external dependencies
/**
 * Mock readline Interface
 */
class MockReadlineInterface extends events_1.EventEmitter {
    constructor() {
        super(...arguments);
        this.questionResponses = new Map();
        this.currentQuestionIndex = 0;
    }
    question(query, callback) {
        // Extract a simplified query key
        const queryKey = this.simplifyQuery(query);
        const responses = this.questionResponses.get(queryKey) || [''];
        const response = responses[this.currentQuestionIndex % responses.length] || responses[0];
        // Increment for next question
        this.currentQuestionIndex++;
        // Call callback asynchronously to simulate real behavior
        setImmediate(() => callback(response));
    }
    close() {
        this.emit('close');
    }
    setResponses(responses) {
        this.questionResponses = responses;
        this.currentQuestionIndex = 0;
    }
    simplifyQuery(query) {
        // Extract key parts of the query for matching (check longer strings first to avoid partial matches)
        if (query.includes('Choose setup type'))
            return 'setup-type';
        if (query.includes('Continue with these settings'))
            return 'confirm-quick';
        if (query.includes('Choose a profile'))
            return 'profile-choice';
        if (query.includes('How should updates be handled'))
            return 'update-behavior';
        if (query.includes('Which update channel'))
            return 'update-channel';
        if (query.includes('Choose safety level'))
            return 'safety-level';
        if (query.includes('Auto-install security updates'))
            return 'auto-security';
        if (query.includes('Create backup before each update'))
            return 'backup';
        if (query.includes('Maximum number of backups'))
            return 'max-backups';
        if (query.includes('Auto-rollback if update fails'))
            return 'auto-rollback';
        if (query.includes('Notification level'))
            return 'notification-level';
        if (query.includes('Enable telemetry'))
            return 'enable-telemetry';
        if (query.includes('Share error reports'))
            return 'share-errors';
        if (query.includes('Share usage statistics'))
            return 'share-usage';
        if (query.includes('What would you like to change'))
            return 'update-category';
        if (query.includes('Reset all preferences'))
            return 'confirm-reset';
        if (query.includes('Your choice'))
            return 'default'; // Generic choice prompt
        return 'default';
    }
}
describe('ConfigWizard', () => {
    let wizard;
    let mockRl;
    let consoleLogSpy;
    beforeAll(() => {
        // Get the mock functions from the mocked module
        const PreferenceManagerModule = require('../../../src/config/preference-manager');
        const mockFns = PreferenceManagerModule.__mockFunctions;
        mockGetDefaultPreferences = mockFns.getDefaultPreferences;
        mockSavePreferences = mockFns.savePreferences;
        mockGetPreferences = mockFns.getPreferences;
        mockGetSummary = mockFns.getSummary;
        mockResetToDefaults = mockFns.resetToDefaults;
    });
    beforeEach(() => {
        // Clear all mock calls
        jest.clearAllMocks();
        // Create mock readline interface
        mockRl = new MockReadlineInterface();
        // Mock readline.createInterface to return our mock
        readline.createInterface.mockReturnValue(mockRl);
        // Spy on console.log to suppress output during tests
        consoleLogSpy = jest.spyOn(console, 'log').mockImplementation();
        // Create wizard instance
        wizard = new config_wizard_1.ConfigWizard();
    });
    afterEach(() => {
        consoleLogSpy.mockRestore();
    });
    /**
     * Test Scenario 1: Complete Wizard Flow (Quick Setup)
     */
    describe('wizardFlow - complete successfully', () => {
        it('should complete quick setup wizard successfully', async () => {
            // Setup mock responses for quick setup
            mockRl.setResponses(new Map([
                ['setup-type', ['1']], // Choose quick setup
                ['confirm-quick', ['y']] // Confirm quick setup
            ]));
            // Run wizard
            const result = await wizard.run();
            // Verify results
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
            expect(result.updateChannel).toBe('stable');
            expect(result.safetyLevel).toBe('balanced');
            // Verify readline was closed
            expect(mockRl.listenerCount('close')).toBe(0);
        });
        it('should complete wizard and save preferences', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['1']],
                ['confirm-quick', ['y']]
            ]));
            await wizard.run();
            // Verify savePreferences was called
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should switch to custom setup if quick setup is declined', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['1']], // Choose quick setup
                ['confirm-quick', ['n']], // Decline quick setup
                ['update-behavior', ['2']],
                ['update-channel', ['1']],
                ['safety-level', ['2']],
                ['auto-security', ['y']],
                ['backup', ['y']],
                ['max-backups', ['5']],
                ['auto-rollback', ['y']],
                ['notification-level', ['2']],
                ['enable-telemetry', ['y']],
                ['share-errors', ['y']],
                ['share-usage', ['n']]
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
        });
    });
    /**
     * Test Scenario 2: Profile Selection - Development Profile
     */
    describe('profileSelection - dev profile', () => {
        it('should use balanced profile when selected', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['3']], // Choose profile setup
                ['profile-choice', ['2']] // Choose balanced profile
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('notify');
            expect(result.updateChannel).toBe('stable');
            expect(result.safetyLevel).toBe('balanced');
            expect(result.maxRollbackPoints).toBe(5);
        });
        it('should display all available profiles', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['3']],
                ['profile-choice', ['2']]
            ]));
            await wizard.run();
            // Verify wizard ran successfully - setup screen was shown
            expect(consoleLogSpy).toHaveBeenCalledWith(expect.stringContaining('First-Time Setup'));
        });
    });
    /**
     * Test Scenario 3: Profile Selection - Production Profile
     */
    describe('profileSelection - production profile', () => {
        it('should use conservative profile with stricter settings', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['3']], // Choose profile setup
                ['profile-choice', ['1']] // Choose conservative profile
            ]));
            const result = await wizard.run();
            // Debug: check what console.log was called with
            const consoleCalls = consoleLogSpy.mock.calls.map(call => call.join(' '));
            const debugCalls = consoleCalls.filter(call => call.includes('DEBUG:') || call.includes('Using') || call.includes('profile'));
            if (debugCalls.length > 0) {
                console.error('DEBUG CALLS:', debugCalls);
            }
            console.error('Result updateBehavior:', result.updateBehavior);
            console.error('Result full object:', JSON.stringify(result, null, 2));
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('manual');
            expect(result.safetyLevel).toBe('conservative');
            expect(result.checkFrequency).toBe(168); // Weekly
            expect(result.autoInstallSecurity).toBe(false);
            expect(result.maxRollbackPoints).toBe(10);
        });
        it('should use aggressive profile with latest features', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['3']], // Choose profile setup
                ['profile-choice', ['3']] // Choose aggressive profile
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('auto');
            expect(result.updateChannel).toBe('beta');
            expect(result.safetyLevel).toBe('fast');
            expect(result.checkFrequency).toBe(6); // Every 6 hours
            expect(result.maxRollbackPoints).toBe(3);
            expect(result.allowPrerelease).toBe(true);
        });
        it('should handle invalid profile selection gracefully', async () => {
            // Mock getProfile to return null for invalid selection
            const profileManager = new config_profiles_1.ConfigProfileManager();
            profileManager.getProfile.mockReturnValueOnce(null);
            mockRl.setResponses(new Map([
                ['setup-type', ['3']],
                ['profile-choice', ['999']] // Invalid choice
            ]));
            await expect(wizard.run()).rejects.toThrow('Invalid profile');
        });
    });
    /**
     * Test Scenario 4: Custom Configuration - User Input
     */
    describe('customConfiguration - user input', () => {
        it('should collect all custom settings from user', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']], // Choose custom setup
                ['update-behavior', ['1']], // Auto
                ['update-channel', ['2']], // Beta
                ['safety-level', ['3']], // Fast
                ['auto-security', ['y']],
                ['backup', ['y']],
                ['max-backups', ['7']],
                ['auto-rollback', ['y']],
                ['notification-level', ['1']], // All
                ['enable-telemetry', ['y']],
                ['share-errors', ['y']],
                ['share-usage', ['y']]
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('auto');
            expect(result.updateChannel).toBe('beta');
            expect(result.safetyLevel).toBe('fast');
            expect(result.autoInstallSecurity).toBe(true);
            expect(result.backupBeforeUpdate).toBe(true);
            expect(result.maxRollbackPoints).toBe(7);
            expect(result.rollbackOnFailure).toBe(true);
            expect(result.notificationLevel).toBe('all');
            expect(result.enableTelemetry).toBe(true);
            expect(result.shareErrorReports).toBe(true);
            expect(result.shareUsageStatistics).toBe(true);
        });
        it('should handle no backup scenario', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']],
                ['update-behavior', ['3']], // Manual
                ['update-channel', ['1']], // Stable
                ['safety-level', ['1']], // Conservative
                ['auto-security', ['n']],
                ['backup', ['n']], // No backup
                ['auto-rollback', ['n']],
                ['notification-level', ['4']], // None
                ['enable-telemetry', ['n']]
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.backupBeforeUpdate).toBe(false);
            expect(result.rollbackOnFailure).toBe(false);
            expect(result.notificationLevel).toBe('none');
            expect(result.enableTelemetry).toBe(false);
        });
        it('should handle telemetry disabled scenario', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']],
                ['update-behavior', ['2']],
                ['update-channel', ['1']],
                ['safety-level', ['2']],
                ['auto-security', ['y']],
                ['backup', ['y']],
                ['max-backups', ['5']],
                ['auto-rollback', ['y']],
                ['notification-level', ['2']],
                ['enable-telemetry', ['n']] // Telemetry disabled
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.enableTelemetry).toBe(false);
            // When telemetry is disabled, share settings should not be asked
        });
    });
    /**
     * Test Scenario 5: Validation During Wizard - Invalid Inputs
     */
    describe('validationDuringWizard - invalid inputs', () => {
        it('should handle invalid choice and use default', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['999']], // Invalid choice, should default to '1'
                ['confirm-quick', ['y']]
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            // Should use default quick setup
        });
        it('should handle empty input and use defaults', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['']], // Empty, should use default
                ['confirm-quick', ['']] // Empty yes/no, should use default (true)
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
        });
        it('should parse numeric inputs correctly', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']],
                ['update-behavior', ['2']],
                ['update-channel', ['1']],
                ['safety-level', ['2']],
                ['auto-security', ['y']],
                ['backup', ['y']],
                ['max-backups', ['abc']], // Invalid number, should default to 5
                ['auto-rollback', ['y']],
                ['notification-level', ['2']],
                ['enable-telemetry', ['y']],
                ['share-errors', ['y']],
                ['share-usage', ['n']]
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.maxRollbackPoints).toBe(5); // Should fall back to default
        });
        it('should handle various yes/no input formats', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']],
                ['update-behavior', ['2']],
                ['update-channel', ['1']],
                ['safety-level', ['2']],
                ['auto-security', ['YES']], // Uppercase
                ['backup', ['Y']], // Single letter uppercase
                ['max-backups', ['5']],
                ['auto-rollback', ['yes']], // Lowercase full word
                ['notification-level', ['2']],
                ['enable-telemetry', ['y']],
                ['share-errors', ['y']],
                ['share-usage', ['NO']] // Uppercase NO
            ]));
            const result = await wizard.run();
            expect(result).toBeDefined();
            expect(result.autoInstallSecurity).toBe(true);
            expect(result.backupBeforeUpdate).toBe(true);
            expect(result.rollbackOnFailure).toBe(true);
            expect(result.shareUsageStatistics).toBe(false);
        });
    });
    /**
     * Test Scenario 6: Save Configuration - Persist to Disk
     */
    describe('saveConfiguration - persist to disk', () => {
        it('should save configuration to preferences file', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['1']],
                ['confirm-quick', ['y']]
            ]));
            const result = await wizard.run();
            // Verify savePreferences was called with the result
            expect(mockSavePreferences).toHaveBeenCalledWith(result);
        });
        it('should save custom configuration correctly', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']],
                ['update-behavior', ['3']],
                ['update-channel', ['1']],
                ['safety-level', ['1']],
                ['auto-security', ['n']],
                ['backup', ['y']],
                ['max-backups', ['10']],
                ['auto-rollback', ['y']],
                ['notification-level', ['1']],
                ['enable-telemetry', ['y']],
                ['share-errors', ['y']],
                ['share-usage', ['y']]
            ]));
            await wizard.run();
            expect(mockSavePreferences).toHaveBeenCalled();
            const savedPrefs = mockSavePreferences.mock.calls[0][0];
            expect(savedPrefs.updateBehavior).toBe('manual');
            expect(savedPrefs.maxRollbackPoints).toBe(10);
        });
        it('should display success message after saving', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['1']],
                ['confirm-quick', ['y']]
            ]));
            await wizard.run();
            expect(consoleLogSpy).toHaveBeenCalledWith(expect.stringContaining('Setup complete'));
        });
    });
    /**
     * Additional Test: Minimal Wizard (CI/Automated)
     */
    describe('runMinimal - automated setup', () => {
        it('should run minimal wizard for CI environments', async () => {
            const result = await wizard.runMinimal();
            expect(result).toBeDefined();
            expect(result.updateBehavior).toBe('manual');
            expect(result.notificationLevel).toBe('none');
            expect(result.enableTelemetry).toBe(false);
        });
        it('should save minimal configuration', async () => {
            await wizard.runMinimal();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
    });
    /**
     * Additional Test: Update Preferences
     */
    describe('updatePreferences - interactive update', () => {
        it('should update existing preferences', async () => {
            mockRl.setResponses(new Map([
                ['update-category', ['1']], // Update settings
                ['update-behavior', ['1']] // Change to auto
            ]));
            await wizard.updatePreferences();
            expect(mockGetPreferences).toHaveBeenCalled();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should handle reset to defaults', async () => {
            mockRl.setResponses(new Map([
                ['update-category', ['6']], // Reset to defaults
                ['confirm-reset', ['y']] // Confirm reset
            ]));
            await wizard.updatePreferences();
            expect(mockResetToDefaults).toHaveBeenCalled();
        });
        it('should handle view all settings', async () => {
            mockRl.setResponses(new Map([
                ['update-category', ['5']] // View all settings
            ]));
            await wizard.updatePreferences();
            expect(mockGetSummary).toHaveBeenCalled();
        });
        it('should update rollback settings', async () => {
            mockRl.setResponses(new Map([
                ['update-category', ['2']], // Rollback settings
                ['auto-rollback', ['n']] // Disable auto-rollback
            ]));
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should update notification settings', async () => {
            mockRl.setResponses(new Map([
                ['update-category', ['3']], // Notification settings
                ['notification-level', ['4']] // None
            ]));
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should update telemetry settings', async () => {
            mockRl.setResponses(new Map([
                ['update-category', ['4']], // Telemetry settings
                ['enable-telemetry', ['n']] // Disable telemetry
            ]));
            await wizard.updatePreferences();
            expect(mockSavePreferences).toHaveBeenCalled();
        });
        it('should not reset if user declines confirmation', async () => {
            mockRl.setResponses(new Map([
                ['update-category', ['6']], // Reset to defaults
                ['confirm-reset', ['n']] // Decline reset
            ]));
            await wizard.updatePreferences();
            expect(mockResetToDefaults).not.toHaveBeenCalled();
        });
    });
    /**
     * Edge Cases
     */
    describe('edgeCases - boundary conditions', () => {
        it('should handle maximum backup points input', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']],
                ['update-behavior', ['2']],
                ['update-channel', ['1']],
                ['safety-level', ['2']],
                ['auto-security', ['y']],
                ['backup', ['y']],
                ['max-backups', ['999']],
                ['auto-rollback', ['y']],
                ['notification-level', ['2']],
                ['enable-telemetry', ['n']]
            ]));
            const result = await wizard.run();
            expect(result.maxRollbackPoints).toBe(999);
        });
        it('should handle zero backup points', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']],
                ['update-behavior', ['2']],
                ['update-channel', ['1']],
                ['safety-level', ['2']],
                ['auto-security', ['y']],
                ['backup', ['y']],
                ['max-backups', ['0']],
                ['auto-rollback', ['y']],
                ['notification-level', ['2']],
                ['enable-telemetry', ['n']]
            ]));
            const result = await wizard.run();
            expect(result.maxRollbackPoints).toBe(0);
        });
        it('should handle negative number input gracefully', async () => {
            mockRl.setResponses(new Map([
                ['setup-type', ['2']],
                ['update-behavior', ['2']],
                ['update-channel', ['1']],
                ['safety-level', ['2']],
                ['auto-security', ['y']],
                ['backup', ['y']],
                ['max-backups', ['-5']], // Negative number
                ['auto-rollback', ['y']],
                ['notification-level', ['2']],
                ['enable-telemetry', ['n']]
            ]));
            const result = await wizard.run();
            // Should parse to -5 or fall back to default
            expect(typeof result.maxRollbackPoints).toBe('number');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL25pc3NpbW1lbmFzaGUvVkVSU0FUSUwgU0RMQyBGVy90ZXN0cy91bml0L2NvbmZpZy9jb25maWctd2l6YXJkLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7R0FNRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRSCx1QkFBdUI7QUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztBQVN0Qix5QkFBeUI7QUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsRUFBRSxHQUFHLEVBQUU7SUFDdkQsTUFBTSxlQUFlLEdBQW9CO1FBQ3ZDLGNBQWMsRUFBRSxRQUFRO1FBQ3hCLGFBQWEsRUFBRSxRQUFRO1FBQ3ZCLFdBQVcsRUFBRSxVQUFVO1FBQ3ZCLGNBQWMsRUFBRSxFQUFFO1FBQ2xCLG1CQUFtQixFQUFFLElBQUk7UUFDekIsZ0JBQWdCLEVBQUUsUUFBUTtRQUMxQixpQkFBaUIsRUFBRSxDQUFDO1FBQ3BCLGlCQUFpQixFQUFFLElBQUk7UUFDdkIsaUJBQWlCLEVBQUUsV0FBVztRQUM5Qix1QkFBdUIsRUFBRSxJQUFJO1FBQzdCLHVCQUF1QixFQUFFLElBQUk7UUFDN0Isc0JBQXNCLEVBQUUsSUFBSTtRQUM1QixzQkFBc0IsRUFBRSxJQUFJO1FBQzVCLGVBQWUsRUFBRSxJQUFJO1FBQ3JCLGlCQUFpQixFQUFFLElBQUk7UUFDdkIsb0JBQW9CLEVBQUUsS0FBSztRQUMzQixrQkFBa0IsRUFBRSxJQUFJO1FBQ3hCLG1CQUFtQixFQUFFLElBQUk7UUFDekIsZUFBZSxFQUFFLEtBQUs7UUFDdEIsd0JBQXdCLEVBQUUsS0FBSztRQUMvQixTQUFTLEVBQUUsMEJBQTBCO1FBQ3JDLFlBQVksRUFBRSwwQkFBMEI7UUFDeEMsT0FBTyxFQUFFLE9BQU87S0FDakIsQ0FBQztJQUVGLDJDQUEyQztJQUMzQyxNQUFNLE9BQU8sR0FBRztRQUNkLHFCQUFxQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsZUFB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WSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3JCLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDMUIsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN6QixDQUFDLGNBQWMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN2QixDQUFDLGVBQWUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QixDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQixDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsa0JBQWtCO2dCQUMzQyxDQUFDLGVBQWUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QixDQUFDLG9CQUFvQixFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzdCLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUM1QixDQUFDLENBQUMsQ0FBQztZQUVKLE1BQU0sTUFBTSxHQUFHLE1BQU0sTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBRWxDLDZDQUE2QztZQUM3QyxNQUFNLENBQUMsT0FBTyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaXNzaW1tZW5hc2hlL1ZFUlNBVElMIFNETEMgRlcvdGVzdHMvdW5pdC9jb25maWcvY29uZmlnLXdpemFyZC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVkVSU0FUSUwgU0RMQyBGcmFtZXdvcmsgLSBDb25maWd1cmF0aW9uIFdpemFyZCBUZXN0c1xuICogQ29tcHJlaGVuc2l2ZSB0ZXN0IHN1aXRlIGZvciB0aGUgaW50ZXJhY3RpdmUgY29uZmlndXJhdGlvbiB3aXphcmRcbiAqXG4gKiBDb3ZlcmFnZSBUYXJnZXQ6IDkwJStcbiAqIFRlc3QgU2NlbmFyaW9zOiA2IGNvcmUgc2NlbmFyaW9zIGNvdmVyaW5nIGFsbCB3aXphcmQgZmxvd3NcbiAqL1xuXG5pbXBvcnQgeyBDb25maWdXaXphcmQgfSBmcm9tICcuLi8uLi8uLi9zcmMvY29uZmlnL2NvbmZpZy13aXphcmQnO1xuaW1wb3J0IHsgUHJlZmVyZW5jZU1hbmFnZXIsIFVzZXJQcmVmZXJlbmNlcyB9IGZyb20gJy4uLy4uLy4uL3NyYy9jb25maWcvcHJlZmVyZW5jZS1tYW5hZ2VyJztcbmltcG9ydCB7IENvbmZpZ1Byb2ZpbGVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2NvbmZpZy9jb25maWctcHJvZmlsZXMnO1xuaW1wb3J0ICogYXMgcmVhZGxpbmUgZnJvbSAncmVhZGxpbmUnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcblxuLy8gTW9jayByZWFkbGluZSBtb2R1bGVcbmplc3QubW9jaygncmVhZGxpbmUnKTtcblxuLy8gQ3JlYXRlIHNoYXJlZCBtb2NrIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgYXNzaWduZWQgaW4gamVzdC5tb2NrXG5sZXQgbW9ja0dldERlZmF1bHRQcmVmZXJlbmNlczogamVzdC5Nb2NrO1xubGV0IG1vY2tTYXZlUHJlZmVyZW5jZXM6IGplc3QuTW9jaztcbmxldCBtb2NrR2V0UHJlZmVyZW5jZXM6IGplc3QuTW9jaztcbmxldCBtb2NrR2V0U3VtbWFyeTogamVzdC5Nb2NrO1xubGV0IG1vY2tSZXNldFRvRGVmYXVsdHM6IGplc3QuTW9jaztcblxuLy8gTW9jayBQcmVmZXJlbmNlTWFuYWdlclxuamVzdC5tb2NrKCcuLi8uLi8uLi9zcmMvY29uZmlnL3ByZWZlcmVuY2UtbWFuYWdlcicsICgpID0+IHtcbiAgY29uc3QgbW9ja1ByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXMgPSB7XG4gICAgdXBkYXRlQmVoYXZpb3I6ICdub3RpZnknLFxuICAgIHVwZGF0ZUNoYW5uZWw6ICdzdGFibGUnLFxuICAgIHNhZmV0eUxldmVsOiAnYmFsYW5jZWQnLFxuICAgIGNoZWNrRnJlcXVlbmN5OiAyNCxcbiAgICBhdXRvSW5zdGFsbFNlY3VyaXR5OiB0cnVlLFxuICAgIHJvbGxiYWNrQmVoYXZpb3I6ICdwcm9tcHQnLFxuICAgIG1heFJvbGxiYWNrUG9pbnRzOiA1LFxuICAgIHJvbGxiYWNrT25GYWlsdXJlOiB0cnVlLFxuICAgIG5vdGlmaWNhdGlvbkxldmVsOiAnaW1wb3J0YW50JyxcbiAgICBub3RpZnlPblVwZGF0ZUF2YWlsYWJsZTogdHJ1ZSxcbiAgICBub3RpZnlPblVwZGF0ZUluc3RhbGxlZDogdHJ1ZSxcbiAgICBub3RpZnlPblNlY3VyaXR5VXBkYXRlOiB0cnVlLFxuICAgIG5vdGlmeU9uQnJlYWtpbmdDaGFuZ2U6IHRydWUsXG4gICAgZW5hYmxlVGVsZW1ldHJ5OiB0cnVlLFxuICAgIHNoYXJlRXJyb3JSZXBvcnRzOiB0cnVlLFxuICAgIHNoYXJlVXNhZ2VTdGF0aXN0aWNzOiBmYWxzZSxcbiAgICBiYWNrdXBCZWZvcmVVcGRhdGU6IHRydWUsXG4gICAgdmFsaWRhdGVBZnRlclVwZGF0ZTogdHJ1ZSxcbiAgICBhbGxvd1ByZXJlbGVhc2U6IGZhbHNlLFxuICAgIHNraXBPcHRpb25hbERlcGVuZGVuY2llczogZmFsc2UsXG4gICAgY3JlYXRlZEF0OiAnMjAyNS0wMS0wMVQwMDowMDowMC4wMDBaJyxcbiAgICBsYXN0TW9kaWZpZWQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwLjAwMFonLFxuICAgIHZlcnNpb246ICcxLjAuMCdcbiAgfTtcblxuICAvLyBDcmVhdGUgbW9jayBmdW5jdGlvbnMgaW5zaWRlIHRoZSBmYWN0b3J5XG4gIGNvbnN0IG1vY2tGbnMgPSB7XG4gICAgZ2V0RGVmYXVsdFByZWZlcmVuY2VzOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKG1vY2tQcmVmZXJlbmNlcyksXG4gICAgc2F2ZVByZWZlcmVuY2VzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICBnZXRQcmVmZXJlbmNlczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQcmVmZXJlbmNlcyksXG4gICAgZ2V0U3VtbWFyeTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdNb2NrIHByZWZlcmVuY2VzIHN1bW1hcnknKSxcbiAgICByZXNldFRvRGVmYXVsdHM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBQcmVmZXJlbmNlTWFuYWdlcjogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBtb2NrRm5zKSxcbiAgICAvLyBFeHBvcnQgbW9ja3Mgc28gdGhleSBjYW4gYmUgYWNjZXNzZWRcbiAgICBfX21vY2tGdW5jdGlvbnM6IG1vY2tGbnNcbiAgfTtcbn0pO1xuXG4vLyBEb24ndCBtb2NrIENvbmZpZ1Byb2ZpbGVNYW5hZ2VyIC0gdXNlIHJlYWwgaW1wbGVtZW50YXRpb25cbi8vIGplc3QubW9jaygpIHJlbW92ZWQgLSBDb25maWdQcm9maWxlTWFuYWdlciBoYXMgbm8gZXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG5cbi8qKlxuICogTW9jayByZWFkbGluZSBJbnRlcmZhY2VcbiAqL1xuY2xhc3MgTW9ja1JlYWRsaW5lSW50ZXJmYWNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgcHJpdmF0ZSBxdWVzdGlvblJlc3BvbnNlczogTWFwPHN0cmluZywgc3RyaW5nW10+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDtcblxuICBxdWVzdGlvbihxdWVyeTogc3RyaW5nLCBjYWxsYmFjazogKGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgLy8gRXh0cmFjdCBhIHNpbXBsaWZpZWQgcXVlcnkga2V5XG4gICAgY29uc3QgcXVlcnlLZXkgPSB0aGlzLnNpbXBsaWZ5UXVlcnkocXVlcnkpO1xuICAgIGNvbnN0IHJlc3BvbnNlcyA9IHRoaXMucXVlc3Rpb25SZXNwb25zZXMuZ2V0KHF1ZXJ5S2V5KSB8fCBbJyddO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzcG9uc2VzW3RoaXMuY3VycmVudFF1ZXN0aW9uSW5kZXggJSByZXNwb25zZXMubGVuZ3RoXSB8fCByZXNwb25zZXNbMF07XG5cbiAgICAvLyBJbmNyZW1lbnQgZm9yIG5leHQgcXVlc3Rpb25cbiAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbkluZGV4Kys7XG5cbiAgICAvLyBDYWxsIGNhbGxiYWNrIGFzeW5jaHJvbm91c2x5IHRvIHNpbXVsYXRlIHJlYWwgYmVoYXZpb3JcbiAgICBzZXRJbW1lZGlhdGUoKCkgPT4gY2FsbGJhY2socmVzcG9uc2UpKTtcbiAgfVxuXG4gIGNsb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuZW1pdCgnY2xvc2UnKTtcbiAgfVxuXG4gIHNldFJlc3BvbnNlcyhyZXNwb25zZXM6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPik6IHZvaWQge1xuICAgIHRoaXMucXVlc3Rpb25SZXNwb25zZXMgPSByZXNwb25zZXM7XG4gICAgdGhpcy5jdXJyZW50UXVlc3Rpb25JbmRleCA9IDA7XG4gIH1cblxuICBwcml2YXRlIHNpbXBsaWZ5UXVlcnkocXVlcnk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gRXh0cmFjdCBrZXkgcGFydHMgb2YgdGhlIHF1ZXJ5IGZvciBtYXRjaGluZyAoY2hlY2sgbG9uZ2VyIHN0cmluZ3MgZmlyc3QgdG8gYXZvaWQgcGFydGlhbCBtYXRjaGVzKVxuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnQ2hvb3NlIHNldHVwIHR5cGUnKSkgcmV0dXJuICdzZXR1cC10eXBlJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0NvbnRpbnVlIHdpdGggdGhlc2Ugc2V0dGluZ3MnKSkgcmV0dXJuICdjb25maXJtLXF1aWNrJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0Nob29zZSBhIHByb2ZpbGUnKSkgcmV0dXJuICdwcm9maWxlLWNob2ljZSc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdIb3cgc2hvdWxkIHVwZGF0ZXMgYmUgaGFuZGxlZCcpKSByZXR1cm4gJ3VwZGF0ZS1iZWhhdmlvcic7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdXaGljaCB1cGRhdGUgY2hhbm5lbCcpKSByZXR1cm4gJ3VwZGF0ZS1jaGFubmVsJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0Nob29zZSBzYWZldHkgbGV2ZWwnKSkgcmV0dXJuICdzYWZldHktbGV2ZWwnO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnQXV0by1pbnN0YWxsIHNlY3VyaXR5IHVwZGF0ZXMnKSkgcmV0dXJuICdhdXRvLXNlY3VyaXR5JztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0NyZWF0ZSBiYWNrdXAgYmVmb3JlIGVhY2ggdXBkYXRlJykpIHJldHVybiAnYmFja3VwJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ01heGltdW0gbnVtYmVyIG9mIGJhY2t1cHMnKSkgcmV0dXJuICdtYXgtYmFja3Vwcyc7XG4gICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKCdBdXRvLXJvbGxiYWNrIGlmIHVwZGF0ZSBmYWlscycpKSByZXR1cm4gJ2F1dG8tcm9sbGJhY2snO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnTm90aWZpY2F0aW9uIGxldmVsJykpIHJldHVybiAnbm90aWZpY2F0aW9uLWxldmVsJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ0VuYWJsZSB0ZWxlbWV0cnknKSkgcmV0dXJuICdlbmFibGUtdGVsZW1ldHJ5JztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ1NoYXJlIGVycm9yIHJlcG9ydHMnKSkgcmV0dXJuICdzaGFyZS1lcnJvcnMnO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnU2hhcmUgdXNhZ2Ugc3RhdGlzdGljcycpKSByZXR1cm4gJ3NoYXJlLXVzYWdlJztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ1doYXQgd291bGQgeW91IGxpa2UgdG8gY2hhbmdlJykpIHJldHVybiAndXBkYXRlLWNhdGVnb3J5JztcbiAgICBpZiAocXVlcnkuaW5jbHVkZXMoJ1Jlc2V0IGFsbCBwcmVmZXJlbmNlcycpKSByZXR1cm4gJ2NvbmZpcm0tcmVzZXQnO1xuICAgIGlmIChxdWVyeS5pbmNsdWRlcygnWW91ciBjaG9pY2UnKSkgcmV0dXJuICdkZWZhdWx0JzsgLy8gR2VuZXJpYyBjaG9pY2UgcHJvbXB0XG5cbiAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICB9XG59XG5cbmRlc2NyaWJlKCdDb25maWdXaXphcmQnLCAoKSA9PiB7XG4gIGxldCB3aXphcmQ6IENvbmZpZ1dpemFyZDtcbiAgbGV0IG1vY2tSbDogTW9ja1JlYWRsaW5lSW50ZXJmYWNlO1xuICBsZXQgY29uc29sZUxvZ1NweTogamVzdC5TcHlJbnN0YW5jZTtcblxuICBiZWZvcmVBbGwoKCkgPT4ge1xuICAgIC8vIEdldCB0aGUgbW9jayBmdW5jdGlvbnMgZnJvbSB0aGUgbW9ja2VkIG1vZHVsZVxuICAgIGNvbnN0IFByZWZlcmVuY2VNYW5hZ2VyTW9kdWxlID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2NvbmZpZy9wcmVmZXJlbmNlLW1hbmFnZXInKTtcbiAgICBjb25zdCBtb2NrRm5zID0gKFByZWZlcmVuY2VNYW5hZ2VyTW9kdWxlIGFzIGFueSkuX19tb2NrRnVuY3Rpb25zO1xuXG4gICAgbW9ja0dldERlZmF1bHRQcmVmZXJlbmNlcyA9IG1vY2tGbnMuZ2V0RGVmYXVsdFByZWZlcmVuY2VzO1xuICAgIG1vY2tTYXZlUHJlZmVyZW5jZXMgPSBtb2NrRm5zLnNhdmVQcmVmZXJlbmNlcztcbiAgICBtb2NrR2V0UHJlZmVyZW5jZXMgPSBtb2NrRm5zLmdldFByZWZlcmVuY2VzO1xuICAgIG1vY2tHZXRTdW1tYXJ5ID0gbW9ja0Zucy5nZXRTdW1tYXJ5O1xuICAgIG1vY2tSZXNldFRvRGVmYXVsdHMgPSBtb2NrRm5zLnJlc2V0VG9EZWZhdWx0cztcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gQ2xlYXIgYWxsIG1vY2sgY2FsbHNcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgIC8vIENyZWF0ZSBtb2NrIHJlYWRsaW5lIGludGVyZmFjZVxuICAgIG1vY2tSbCA9IG5ldyBNb2NrUmVhZGxpbmVJbnRlcmZhY2UoKTtcblxuICAgIC8vIE1vY2sgcmVhZGxpbmUuY3JlYXRlSW50ZXJmYWNlIHRvIHJldHVybiBvdXIgbW9ja1xuICAgIChyZWFkbGluZS5jcmVhdGVJbnRlcmZhY2UgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja1JsKTtcblxuICAgIC8vIFNweSBvbiBjb25zb2xlLmxvZyB0byBzdXBwcmVzcyBvdXRwdXQgZHVyaW5nIHRlc3RzXG4gICAgY29uc29sZUxvZ1NweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2xvZycpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgLy8gQ3JlYXRlIHdpemFyZCBpbnN0YW5jZVxuICAgIHdpemFyZCA9IG5ldyBDb25maWdXaXphcmQoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBjb25zb2xlTG9nU3B5Lm1vY2tSZXN0b3JlKCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUZXN0IFNjZW5hcmlvIDE6IENvbXBsZXRlIFdpemFyZCBGbG93IChRdWljayBTZXR1cClcbiAgICovXG4gIGRlc2NyaWJlKCd3aXphcmRGbG93IC0gY29tcGxldGUgc3VjY2Vzc2Z1bGx5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29tcGxldGUgcXVpY2sgc2V0dXAgd2l6YXJkIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFNldHVwIG1vY2sgcmVzcG9uc2VzIGZvciBxdWljayBzZXR1cFxuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWydzZXR1cC10eXBlJywgWycxJ11dLCAvLyBDaG9vc2UgcXVpY2sgc2V0dXBcbiAgICAgICAgWydjb25maXJtLXF1aWNrJywgWyd5J11dIC8vIENvbmZpcm0gcXVpY2sgc2V0dXBcbiAgICAgIF0pKTtcblxuICAgICAgLy8gUnVuIHdpemFyZFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICAvLyBWZXJpZnkgcmVzdWx0c1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQmVoYXZpb3IpLnRvQmUoJ25vdGlmeScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVDaGFubmVsKS50b0JlKCdzdGFibGUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2FmZXR5TGV2ZWwpLnRvQmUoJ2JhbGFuY2VkJyk7XG5cbiAgICAgIC8vIFZlcmlmeSByZWFkbGluZSB3YXMgY2xvc2VkXG4gICAgICBleHBlY3QobW9ja1JsLmxpc3RlbmVyQ291bnQoJ2Nsb3NlJykpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIHdpemFyZCBhbmQgc2F2ZSBwcmVmZXJlbmNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnMSddXSxcbiAgICAgICAgWydjb25maXJtLXF1aWNrJywgWyd5J11dXG4gICAgICBdKSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgLy8gVmVyaWZ5IHNhdmVQcmVmZXJlbmNlcyB3YXMgY2FsbGVkXG4gICAgICBleHBlY3QobW9ja1NhdmVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzd2l0Y2ggdG8gY3VzdG9tIHNldHVwIGlmIHF1aWNrIHNldHVwIGlzIGRlY2xpbmVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWydzZXR1cC10eXBlJywgWycxJ11dLCAvLyBDaG9vc2UgcXVpY2sgc2V0dXBcbiAgICAgICAgWydjb25maXJtLXF1aWNrJywgWyduJ11dLCAvLyBEZWNsaW5lIHF1aWNrIHNldHVwXG4gICAgICAgIFsndXBkYXRlLWJlaGF2aW9yJywgWycyJ11dLFxuICAgICAgICBbJ3VwZGF0ZS1jaGFubmVsJywgWycxJ11dLFxuICAgICAgICBbJ3NhZmV0eS1sZXZlbCcsIFsnMiddXSxcbiAgICAgICAgWydhdXRvLXNlY3VyaXR5JywgWyd5J11dLFxuICAgICAgICBbJ2JhY2t1cCcsIFsneSddXSxcbiAgICAgICAgWydtYXgtYmFja3VwcycsIFsnNSddXSxcbiAgICAgICAgWydhdXRvLXJvbGxiYWNrJywgWyd5J11dLFxuICAgICAgICBbJ25vdGlmaWNhdGlvbi1sZXZlbCcsIFsnMiddXSxcbiAgICAgICAgWydlbmFibGUtdGVsZW1ldHJ5JywgWyd5J11dLFxuICAgICAgICBbJ3NoYXJlLWVycm9ycycsIFsneSddXSxcbiAgICAgICAgWydzaGFyZS11c2FnZScsIFsnbiddXVxuICAgICAgXSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdub3RpZnknKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRlc3QgU2NlbmFyaW8gMjogUHJvZmlsZSBTZWxlY3Rpb24gLSBEZXZlbG9wbWVudCBQcm9maWxlXG4gICAqL1xuICBkZXNjcmliZSgncHJvZmlsZVNlbGVjdGlvbiAtIGRldiBwcm9maWxlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXNlIGJhbGFuY2VkIHByb2ZpbGUgd2hlbiBzZWxlY3RlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnMyddXSwgLy8gQ2hvb3NlIHByb2ZpbGUgc2V0dXBcbiAgICAgICAgWydwcm9maWxlLWNob2ljZScsIFsnMiddXSAvLyBDaG9vc2UgYmFsYW5jZWQgcHJvZmlsZVxuICAgICAgXSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdub3RpZnknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQ2hhbm5lbCkudG9CZSgnc3RhYmxlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnNhZmV0eUxldmVsKS50b0JlKCdiYWxhbmNlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tYXhSb2xsYmFja1BvaW50cykudG9CZSg1KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBhbGwgYXZhaWxhYmxlIHByb2ZpbGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWydzZXR1cC10eXBlJywgWyczJ11dLFxuICAgICAgICBbJ3Byb2ZpbGUtY2hvaWNlJywgWycyJ11dXG4gICAgICBdKSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgLy8gVmVyaWZ5IHdpemFyZCByYW4gc3VjY2Vzc2Z1bGx5IC0gc2V0dXAgc2NyZWVuIHdhcyBzaG93blxuICAgICAgZXhwZWN0KGNvbnNvbGVMb2dTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnRmlyc3QtVGltZSBTZXR1cCcpXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogVGVzdCBTY2VuYXJpbyAzOiBQcm9maWxlIFNlbGVjdGlvbiAtIFByb2R1Y3Rpb24gUHJvZmlsZVxuICAgKi9cbiAgZGVzY3JpYmUoJ3Byb2ZpbGVTZWxlY3Rpb24gLSBwcm9kdWN0aW9uIHByb2ZpbGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1c2UgY29uc2VydmF0aXZlIHByb2ZpbGUgd2l0aCBzdHJpY3RlciBzZXR0aW5ncycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnMyddXSwgLy8gQ2hvb3NlIHByb2ZpbGUgc2V0dXBcbiAgICAgICAgWydwcm9maWxlLWNob2ljZScsIFsnMSddXSAvLyBDaG9vc2UgY29uc2VydmF0aXZlIHByb2ZpbGVcbiAgICAgIF0pKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICAvLyBEZWJ1ZzogY2hlY2sgd2hhdCBjb25zb2xlLmxvZyB3YXMgY2FsbGVkIHdpdGhcbiAgICAgIGNvbnN0IGNvbnNvbGVDYWxscyA9IGNvbnNvbGVMb2dTcHkubW9jay5jYWxscy5tYXAoY2FsbCA9PiBjYWxsLmpvaW4oJyAnKSk7XG4gICAgICBjb25zdCBkZWJ1Z0NhbGxzID0gY29uc29sZUNhbGxzLmZpbHRlcihjYWxsID0+IGNhbGwuaW5jbHVkZXMoJ0RFQlVHOicpIHx8IGNhbGwuaW5jbHVkZXMoJ1VzaW5nJykgfHwgY2FsbC5pbmNsdWRlcygncHJvZmlsZScpKTtcbiAgICAgIGlmIChkZWJ1Z0NhbGxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignREVCVUcgQ0FMTFM6JywgZGVidWdDYWxscyk7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmVycm9yKCdSZXN1bHQgdXBkYXRlQmVoYXZpb3I6JywgcmVzdWx0LnVwZGF0ZUJlaGF2aW9yKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Jlc3VsdCBmdWxsIG9iamVjdDonLCBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXBkYXRlQmVoYXZpb3IpLnRvQmUoJ21hbnVhbCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zYWZldHlMZXZlbCkudG9CZSgnY29uc2VydmF0aXZlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmNoZWNrRnJlcXVlbmN5KS50b0JlKDE2OCk7IC8vIFdlZWtseVxuICAgICAgZXhwZWN0KHJlc3VsdC5hdXRvSW5zdGFsbFNlY3VyaXR5KS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoMTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1c2UgYWdncmVzc2l2ZSBwcm9maWxlIHdpdGggbGF0ZXN0IGZlYXR1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWydzZXR1cC10eXBlJywgWyczJ11dLCAvLyBDaG9vc2UgcHJvZmlsZSBzZXR1cFxuICAgICAgICBbJ3Byb2ZpbGUtY2hvaWNlJywgWyczJ11dIC8vIENob29zZSBhZ2dyZXNzaXZlIHByb2ZpbGVcbiAgICAgIF0pKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVCZWhhdmlvcikudG9CZSgnYXV0bycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVDaGFubmVsKS50b0JlKCdiZXRhJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnNhZmV0eUxldmVsKS50b0JlKCdmYXN0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LmNoZWNrRnJlcXVlbmN5KS50b0JlKDYpOyAvLyBFdmVyeSA2IGhvdXJzXG4gICAgICBleHBlY3QocmVzdWx0Lm1heFJvbGxiYWNrUG9pbnRzKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5hbGxvd1ByZXJlbGVhc2UpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIHByb2ZpbGUgc2VsZWN0aW9uIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGdldFByb2ZpbGUgdG8gcmV0dXJuIG51bGwgZm9yIGludmFsaWQgc2VsZWN0aW9uXG4gICAgICBjb25zdCBwcm9maWxlTWFuYWdlciA9IG5ldyBDb25maWdQcm9maWxlTWFuYWdlcigpO1xuICAgICAgKHByb2ZpbGVNYW5hZ2VyLmdldFByb2ZpbGUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWVPbmNlKG51bGwpO1xuXG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3NldHVwLXR5cGUnLCBbJzMnXV0sXG4gICAgICAgIFsncHJvZmlsZS1jaG9pY2UnLCBbJzk5OSddXSAvLyBJbnZhbGlkIGNob2ljZVxuICAgICAgXSkpO1xuXG4gICAgICBhd2FpdCBleHBlY3Qod2l6YXJkLnJ1bigpKS5yZWplY3RzLnRvVGhyb3coJ0ludmFsaWQgcHJvZmlsZScpO1xuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogVGVzdCBTY2VuYXJpbyA0OiBDdXN0b20gQ29uZmlndXJhdGlvbiAtIFVzZXIgSW5wdXRcbiAgICovXG4gIGRlc2NyaWJlKCdjdXN0b21Db25maWd1cmF0aW9uIC0gdXNlciBpbnB1dCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbGxlY3QgYWxsIGN1c3RvbSBzZXR0aW5ncyBmcm9tIHVzZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3NldHVwLXR5cGUnLCBbJzInXV0sIC8vIENob29zZSBjdXN0b20gc2V0dXBcbiAgICAgICAgWyd1cGRhdGUtYmVoYXZpb3InLCBbJzEnXV0sIC8vIEF1dG9cbiAgICAgICAgWyd1cGRhdGUtY2hhbm5lbCcsIFsnMiddXSwgLy8gQmV0YVxuICAgICAgICBbJ3NhZmV0eS1sZXZlbCcsIFsnMyddXSwgLy8gRmFzdFxuICAgICAgICBbJ2F1dG8tc2VjdXJpdHknLCBbJ3knXV0sXG4gICAgICAgIFsnYmFja3VwJywgWyd5J11dLFxuICAgICAgICBbJ21heC1iYWNrdXBzJywgWyc3J11dLFxuICAgICAgICBbJ2F1dG8tcm9sbGJhY2snLCBbJ3knXV0sXG4gICAgICAgIFsnbm90aWZpY2F0aW9uLWxldmVsJywgWycxJ11dLCAvLyBBbGxcbiAgICAgICAgWydlbmFibGUtdGVsZW1ldHJ5JywgWyd5J11dLFxuICAgICAgICBbJ3NoYXJlLWVycm9ycycsIFsneSddXSxcbiAgICAgICAgWydzaGFyZS11c2FnZScsIFsneSddXVxuICAgICAgXSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUJlaGF2aW9yKS50b0JlKCdhdXRvJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnVwZGF0ZUNoYW5uZWwpLnRvQmUoJ2JldGEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2FmZXR5TGV2ZWwpLnRvQmUoJ2Zhc3QnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYXV0b0luc3RhbGxTZWN1cml0eSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYmFja3VwQmVmb3JlVXBkYXRlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tYXhSb2xsYmFja1BvaW50cykudG9CZSg3KTtcbiAgICAgIGV4cGVjdChyZXN1bHQucm9sbGJhY2tPbkZhaWx1cmUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0Lm5vdGlmaWNhdGlvbkxldmVsKS50b0JlKCdhbGwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW5hYmxlVGVsZW1ldHJ5KS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zaGFyZUVycm9yUmVwb3J0cykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2hhcmVVc2FnZVN0YXRpc3RpY3MpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBubyBiYWNrdXAgc2NlbmFyaW8nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3NldHVwLXR5cGUnLCBbJzInXV0sXG4gICAgICAgIFsndXBkYXRlLWJlaGF2aW9yJywgWyczJ11dLCAvLyBNYW51YWxcbiAgICAgICAgWyd1cGRhdGUtY2hhbm5lbCcsIFsnMSddXSwgLy8gU3RhYmxlXG4gICAgICAgIFsnc2FmZXR5LWxldmVsJywgWycxJ11dLCAvLyBDb25zZXJ2YXRpdmVcbiAgICAgICAgWydhdXRvLXNlY3VyaXR5JywgWyduJ11dLFxuICAgICAgICBbJ2JhY2t1cCcsIFsnbiddXSwgLy8gTm8gYmFja3VwXG4gICAgICAgIFsnYXV0by1yb2xsYmFjaycsIFsnbiddXSxcbiAgICAgICAgWydub3RpZmljYXRpb24tbGV2ZWwnLCBbJzQnXV0sIC8vIE5vbmVcbiAgICAgICAgWydlbmFibGUtdGVsZW1ldHJ5JywgWyduJ11dXG4gICAgICBdKSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYmFja3VwQmVmb3JlVXBkYXRlKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucm9sbGJhY2tPbkZhaWx1cmUpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ub3RpZmljYXRpb25MZXZlbCkudG9CZSgnbm9uZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lbmFibGVUZWxlbWV0cnkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdGVsZW1ldHJ5IGRpc2FibGVkIHNjZW5hcmlvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWydzZXR1cC10eXBlJywgWycyJ11dLFxuICAgICAgICBbJ3VwZGF0ZS1iZWhhdmlvcicsIFsnMiddXSxcbiAgICAgICAgWyd1cGRhdGUtY2hhbm5lbCcsIFsnMSddXSxcbiAgICAgICAgWydzYWZldHktbGV2ZWwnLCBbJzInXV0sXG4gICAgICAgIFsnYXV0by1zZWN1cml0eScsIFsneSddXSxcbiAgICAgICAgWydiYWNrdXAnLCBbJ3knXV0sXG4gICAgICAgIFsnbWF4LWJhY2t1cHMnLCBbJzUnXV0sXG4gICAgICAgIFsnYXV0by1yb2xsYmFjaycsIFsneSddXSxcbiAgICAgICAgWydub3RpZmljYXRpb24tbGV2ZWwnLCBbJzInXV0sXG4gICAgICAgIFsnZW5hYmxlLXRlbGVtZXRyeScsIFsnbiddXSAvLyBUZWxlbWV0cnkgZGlzYWJsZWRcbiAgICAgIF0pKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lbmFibGVUZWxlbWV0cnkpLnRvQmUoZmFsc2UpO1xuICAgICAgLy8gV2hlbiB0ZWxlbWV0cnkgaXMgZGlzYWJsZWQsIHNoYXJlIHNldHRpbmdzIHNob3VsZCBub3QgYmUgYXNrZWRcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRlc3QgU2NlbmFyaW8gNTogVmFsaWRhdGlvbiBEdXJpbmcgV2l6YXJkIC0gSW52YWxpZCBJbnB1dHNcbiAgICovXG4gIGRlc2NyaWJlKCd2YWxpZGF0aW9uRHVyaW5nV2l6YXJkIC0gaW52YWxpZCBpbnB1dHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBjaG9pY2UgYW5kIHVzZSBkZWZhdWx0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWydzZXR1cC10eXBlJywgWyc5OTknXV0sIC8vIEludmFsaWQgY2hvaWNlLCBzaG91bGQgZGVmYXVsdCB0byAnMSdcbiAgICAgICAgWydjb25maXJtLXF1aWNrJywgWyd5J11dXG4gICAgICBdKSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIC8vIFNob3VsZCB1c2UgZGVmYXVsdCBxdWljayBzZXR1cFxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgaW5wdXQgYW5kIHVzZSBkZWZhdWx0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnJ11dLCAvLyBFbXB0eSwgc2hvdWxkIHVzZSBkZWZhdWx0XG4gICAgICAgIFsnY29uZmlybS1xdWljaycsIFsnJ11dIC8vIEVtcHR5IHllcy9ubywgc2hvdWxkIHVzZSBkZWZhdWx0ICh0cnVlKVxuICAgICAgXSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHBhcnNlIG51bWVyaWMgaW5wdXRzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnMiddXSxcbiAgICAgICAgWyd1cGRhdGUtYmVoYXZpb3InLCBbJzInXV0sXG4gICAgICAgIFsndXBkYXRlLWNoYW5uZWwnLCBbJzEnXV0sXG4gICAgICAgIFsnc2FmZXR5LWxldmVsJywgWycyJ11dLFxuICAgICAgICBbJ2F1dG8tc2VjdXJpdHknLCBbJ3knXV0sXG4gICAgICAgIFsnYmFja3VwJywgWyd5J11dLFxuICAgICAgICBbJ21heC1iYWNrdXBzJywgWydhYmMnXV0sIC8vIEludmFsaWQgbnVtYmVyLCBzaG91bGQgZGVmYXVsdCB0byA1XG4gICAgICAgIFsnYXV0by1yb2xsYmFjaycsIFsneSddXSxcbiAgICAgICAgWydub3RpZmljYXRpb24tbGV2ZWwnLCBbJzInXV0sXG4gICAgICAgIFsnZW5hYmxlLXRlbGVtZXRyeScsIFsneSddXSxcbiAgICAgICAgWydzaGFyZS1lcnJvcnMnLCBbJ3knXV0sXG4gICAgICAgIFsnc2hhcmUtdXNhZ2UnLCBbJ24nXV1cbiAgICAgIF0pKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tYXhSb2xsYmFja1BvaW50cykudG9CZSg1KTsgLy8gU2hvdWxkIGZhbGwgYmFjayB0byBkZWZhdWx0XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB2YXJpb3VzIHllcy9ubyBpbnB1dCBmb3JtYXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWydzZXR1cC10eXBlJywgWycyJ11dLFxuICAgICAgICBbJ3VwZGF0ZS1iZWhhdmlvcicsIFsnMiddXSxcbiAgICAgICAgWyd1cGRhdGUtY2hhbm5lbCcsIFsnMSddXSxcbiAgICAgICAgWydzYWZldHktbGV2ZWwnLCBbJzInXV0sXG4gICAgICAgIFsnYXV0by1zZWN1cml0eScsIFsnWUVTJ11dLCAvLyBVcHBlcmNhc2VcbiAgICAgICAgWydiYWNrdXAnLCBbJ1knXV0sIC8vIFNpbmdsZSBsZXR0ZXIgdXBwZXJjYXNlXG4gICAgICAgIFsnbWF4LWJhY2t1cHMnLCBbJzUnXV0sXG4gICAgICAgIFsnYXV0by1yb2xsYmFjaycsIFsneWVzJ11dLCAvLyBMb3dlcmNhc2UgZnVsbCB3b3JkXG4gICAgICAgIFsnbm90aWZpY2F0aW9uLWxldmVsJywgWycyJ11dLFxuICAgICAgICBbJ2VuYWJsZS10ZWxlbWV0cnknLCBbJ3knXV0sXG4gICAgICAgIFsnc2hhcmUtZXJyb3JzJywgWyd5J11dLFxuICAgICAgICBbJ3NoYXJlLXVzYWdlJywgWydOTyddXSAvLyBVcHBlcmNhc2UgTk9cbiAgICAgIF0pKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5hdXRvSW5zdGFsbFNlY3VyaXR5KS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5iYWNrdXBCZWZvcmVVcGRhdGUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LnJvbGxiYWNrT25GYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zaGFyZVVzYWdlU3RhdGlzdGljcykudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUZXN0IFNjZW5hcmlvIDY6IFNhdmUgQ29uZmlndXJhdGlvbiAtIFBlcnNpc3QgdG8gRGlza1xuICAgKi9cbiAgZGVzY3JpYmUoJ3NhdmVDb25maWd1cmF0aW9uIC0gcGVyc2lzdCB0byBkaXNrJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2F2ZSBjb25maWd1cmF0aW9uIHRvIHByZWZlcmVuY2VzIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3NldHVwLXR5cGUnLCBbJzEnXV0sXG4gICAgICAgIFsnY29uZmlybS1xdWljaycsIFsneSddXVxuICAgICAgXSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIC8vIFZlcmlmeSBzYXZlUHJlZmVyZW5jZXMgd2FzIGNhbGxlZCB3aXRoIHRoZSByZXN1bHRcbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChyZXN1bHQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzYXZlIGN1c3RvbSBjb25maWd1cmF0aW9uIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnMiddXSxcbiAgICAgICAgWyd1cGRhdGUtYmVoYXZpb3InLCBbJzMnXV0sXG4gICAgICAgIFsndXBkYXRlLWNoYW5uZWwnLCBbJzEnXV0sXG4gICAgICAgIFsnc2FmZXR5LWxldmVsJywgWycxJ11dLFxuICAgICAgICBbJ2F1dG8tc2VjdXJpdHknLCBbJ24nXV0sXG4gICAgICAgIFsnYmFja3VwJywgWyd5J11dLFxuICAgICAgICBbJ21heC1iYWNrdXBzJywgWycxMCddXSxcbiAgICAgICAgWydhdXRvLXJvbGxiYWNrJywgWyd5J11dLFxuICAgICAgICBbJ25vdGlmaWNhdGlvbi1sZXZlbCcsIFsnMSddXSxcbiAgICAgICAgWydlbmFibGUtdGVsZW1ldHJ5JywgWyd5J11dLFxuICAgICAgICBbJ3NoYXJlLWVycm9ycycsIFsneSddXSxcbiAgICAgICAgWydzaGFyZS11c2FnZScsIFsneSddXVxuICAgICAgXSkpO1xuXG4gICAgICBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICAgIGNvbnN0IHNhdmVkUHJlZnMgPSBtb2NrU2F2ZVByZWZlcmVuY2VzLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBleHBlY3Qoc2F2ZWRQcmVmcy51cGRhdGVCZWhhdmlvcikudG9CZSgnbWFudWFsJyk7XG4gICAgICBleHBlY3Qoc2F2ZWRQcmVmcy5tYXhSb2xsYmFja1BvaW50cykudG9CZSgxMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgc3VjY2VzcyBtZXNzYWdlIGFmdGVyIHNhdmluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnMSddXSxcbiAgICAgICAgWydjb25maXJtLXF1aWNrJywgWyd5J11dXG4gICAgICBdKSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC5ydW4oKTtcblxuICAgICAgZXhwZWN0KGNvbnNvbGVMb2dTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnU2V0dXAgY29tcGxldGUnKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgVGVzdDogTWluaW1hbCBXaXphcmQgKENJL0F1dG9tYXRlZClcbiAgICovXG4gIGRlc2NyaWJlKCdydW5NaW5pbWFsIC0gYXV0b21hdGVkIHNldHVwJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcnVuIG1pbmltYWwgd2l6YXJkIGZvciBDSSBlbnZpcm9ubWVudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuTWluaW1hbCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51cGRhdGVCZWhhdmlvcikudG9CZSgnbWFudWFsJyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm5vdGlmaWNhdGlvbkxldmVsKS50b0JlKCdub25lJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVuYWJsZVRlbGVtZXRyeSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNhdmUgbWluaW1hbCBjb25maWd1cmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2l6YXJkLnJ1bk1pbmltYWwoKTtcblxuICAgICAgZXhwZWN0KG1vY2tTYXZlUHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgVGVzdDogVXBkYXRlIFByZWZlcmVuY2VzXG4gICAqL1xuICBkZXNjcmliZSgndXBkYXRlUHJlZmVyZW5jZXMgLSBpbnRlcmFjdGl2ZSB1cGRhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgZXhpc3RpbmcgcHJlZmVyZW5jZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3VwZGF0ZS1jYXRlZ29yeScsIFsnMSddXSwgLy8gVXBkYXRlIHNldHRpbmdzXG4gICAgICAgIFsndXBkYXRlLWJlaGF2aW9yJywgWycxJ11dIC8vIENoYW5nZSB0byBhdXRvXG4gICAgICBdKSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja0dldFByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja1NhdmVQcmVmZXJlbmNlcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmVzZXQgdG8gZGVmYXVsdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3VwZGF0ZS1jYXRlZ29yeScsIFsnNiddXSwgLy8gUmVzZXQgdG8gZGVmYXVsdHNcbiAgICAgICAgWydjb25maXJtLXJlc2V0JywgWyd5J11dIC8vIENvbmZpcm0gcmVzZXRcbiAgICAgIF0pKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnVwZGF0ZVByZWZlcmVuY2VzKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrUmVzZXRUb0RlZmF1bHRzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB2aWV3IGFsbCBzZXR0aW5ncycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsndXBkYXRlLWNhdGVnb3J5JywgWyc1J11dIC8vIFZpZXcgYWxsIHNldHRpbmdzXG4gICAgICBdKSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja0dldFN1bW1hcnkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHJvbGxiYWNrIHNldHRpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWyd1cGRhdGUtY2F0ZWdvcnknLCBbJzInXV0sIC8vIFJvbGxiYWNrIHNldHRpbmdzXG4gICAgICAgIFsnYXV0by1yb2xsYmFjaycsIFsnbiddXSAvLyBEaXNhYmxlIGF1dG8tcm9sbGJhY2tcbiAgICAgIF0pKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnVwZGF0ZVByZWZlcmVuY2VzKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBub3RpZmljYXRpb24gc2V0dGluZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3VwZGF0ZS1jYXRlZ29yeScsIFsnMyddXSwgLy8gTm90aWZpY2F0aW9uIHNldHRpbmdzXG4gICAgICAgIFsnbm90aWZpY2F0aW9uLWxldmVsJywgWyc0J11dIC8vIE5vbmVcbiAgICAgIF0pKTtcblxuICAgICAgYXdhaXQgd2l6YXJkLnVwZGF0ZVByZWZlcmVuY2VzKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrU2F2ZVByZWZlcmVuY2VzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSB0ZWxlbWV0cnkgc2V0dGluZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3VwZGF0ZS1jYXRlZ29yeScsIFsnNCddXSwgLy8gVGVsZW1ldHJ5IHNldHRpbmdzXG4gICAgICAgIFsnZW5hYmxlLXRlbGVtZXRyeScsIFsnbiddXSAvLyBEaXNhYmxlIHRlbGVtZXRyeVxuICAgICAgXSkpO1xuXG4gICAgICBhd2FpdCB3aXphcmQudXBkYXRlUHJlZmVyZW5jZXMoKTtcblxuICAgICAgZXhwZWN0KG1vY2tTYXZlUHJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IHJlc2V0IGlmIHVzZXIgZGVjbGluZXMgY29uZmlybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JsLnNldFJlc3BvbnNlcyhuZXcgTWFwKFtcbiAgICAgICAgWyd1cGRhdGUtY2F0ZWdvcnknLCBbJzYnXV0sIC8vIFJlc2V0IHRvIGRlZmF1bHRzXG4gICAgICAgIFsnY29uZmlybS1yZXNldCcsIFsnbiddXSAvLyBEZWNsaW5lIHJlc2V0XG4gICAgICBdKSk7XG5cbiAgICAgIGF3YWl0IHdpemFyZC51cGRhdGVQcmVmZXJlbmNlcygpO1xuXG4gICAgICBleHBlY3QobW9ja1Jlc2V0VG9EZWZhdWx0cykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEVkZ2UgQ2FzZXNcbiAgICovXG4gIGRlc2NyaWJlKCdlZGdlQ2FzZXMgLSBib3VuZGFyeSBjb25kaXRpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1heGltdW0gYmFja3VwIHBvaW50cyBpbnB1dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnMiddXSxcbiAgICAgICAgWyd1cGRhdGUtYmVoYXZpb3InLCBbJzInXV0sXG4gICAgICAgIFsndXBkYXRlLWNoYW5uZWwnLCBbJzEnXV0sXG4gICAgICAgIFsnc2FmZXR5LWxldmVsJywgWycyJ11dLFxuICAgICAgICBbJ2F1dG8tc2VjdXJpdHknLCBbJ3knXV0sXG4gICAgICAgIFsnYmFja3VwJywgWyd5J11dLFxuICAgICAgICBbJ21heC1iYWNrdXBzJywgWyc5OTknXV0sXG4gICAgICAgIFsnYXV0by1yb2xsYmFjaycsIFsneSddXSxcbiAgICAgICAgWydub3RpZmljYXRpb24tbGV2ZWwnLCBbJzInXV0sXG4gICAgICAgIFsnZW5hYmxlLXRlbGVtZXRyeScsIFsnbiddXVxuICAgICAgXSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXphcmQucnVuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQubWF4Um9sbGJhY2tQb2ludHMpLnRvQmUoOTk5KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHplcm8gYmFja3VwIHBvaW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSbC5zZXRSZXNwb25zZXMobmV3IE1hcChbXG4gICAgICAgIFsnc2V0dXAtdHlwZScsIFsnMiddXSxcbiAgICAgICAgWyd1cGRhdGUtYmVoYXZpb3InLCBbJzInXV0sXG4gICAgICAgIFsndXBkYXRlLWNoYW5uZWwnLCBbJzEnXV0sXG4gICAgICAgIFsnc2FmZXR5LWxldmVsJywgWycyJ11dLFxuICAgICAgICBbJ2F1dG8tc2VjdXJpdHknLCBbJ3knXV0sXG4gICAgICAgIFsnYmFja3VwJywgWyd5J11dLFxuICAgICAgICBbJ21heC1iYWNrdXBzJywgWycwJ11dLFxuICAgICAgICBbJ2F1dG8tcm9sbGJhY2snLCBbJ3knXV0sXG4gICAgICAgIFsnbm90aWZpY2F0aW9uLWxldmVsJywgWycyJ11dLFxuICAgICAgICBbJ2VuYWJsZS10ZWxlbWV0cnknLCBbJ24nXV1cbiAgICAgIF0pKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0Lm1heFJvbGxiYWNrUG9pbnRzKS50b0JlKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbmVnYXRpdmUgbnVtYmVyIGlucHV0IGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmwuc2V0UmVzcG9uc2VzKG5ldyBNYXAoW1xuICAgICAgICBbJ3NldHVwLXR5cGUnLCBbJzInXV0sXG4gICAgICAgIFsndXBkYXRlLWJlaGF2aW9yJywgWycyJ11dLFxuICAgICAgICBbJ3VwZGF0ZS1jaGFubmVsJywgWycxJ11dLFxuICAgICAgICBbJ3NhZmV0eS1sZXZlbCcsIFsnMiddXSxcbiAgICAgICAgWydhdXRvLXNlY3VyaXR5JywgWyd5J11dLFxuICAgICAgICBbJ2JhY2t1cCcsIFsneSddXSxcbiAgICAgICAgWydtYXgtYmFja3VwcycsIFsnLTUnXV0sIC8vIE5lZ2F0aXZlIG51bWJlclxuICAgICAgICBbJ2F1dG8tcm9sbGJhY2snLCBbJ3knXV0sXG4gICAgICAgIFsnbm90aWZpY2F0aW9uLWxldmVsJywgWycyJ11dLFxuICAgICAgICBbJ2VuYWJsZS10ZWxlbWV0cnknLCBbJ24nXV1cbiAgICAgIF0pKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2l6YXJkLnJ1bigpO1xuXG4gICAgICAvLyBTaG91bGQgcGFyc2UgdG8gLTUgb3IgZmFsbCBiYWNrIHRvIGRlZmF1bHRcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0Lm1heFJvbGxiYWNrUG9pbnRzKS50b0JlKCdudW1iZXInKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==